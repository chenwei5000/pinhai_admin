(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2994"],{2594:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.param,id:"filter-form",rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"分类",prop:"category"}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择原料分类"},model:{value:e.param.category,callback:function(a){e.$set(e.param,"category",a)},expression:"param.category"}},e._l(e.categories,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"国内成品库存",prop:"warehouse"}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择成品仓库"},model:{value:e.param.warehouse,callback:function(a){e.$set(e.param,"warehouse",a)},expression:"param.warehouse"}},e._l(e.warehouses,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"国内原料库存",prop:"materialWarehouse"}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择原料仓库"},model:{value:e.param.materialWarehouse,callback:function(a){e.$set(e.param,"materialWarehouse",a)},expression:"param.materialWarehouse"}},e._l(e.materialWarehouses,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{"native-type":"submit",type:"primary",size:"small"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),t("div",{staticClass:"ph-card"},[t("ph-card-header",{attrs:{title:e.title,type:"table"}}),e._v(" "),t("div",{staticClass:"ph-card-body"},[t("ph-table",e._b({ref:"table1"},"ph-table",e.tableConfig,!1))],1)],1)],1)},l=[],o=(t("b99d"),t("a97c")),s=(t("7eee"),t("85f3"),t("4328"),t("c405")),i=t("64dc"),c={data:function(){return{title:"原料安全库存",param:{category:"",warehouse:"",materialWarehouse:""},rules:{category:[{required:!0,message:"不能为空",trigger:"blur"}],warehouse:[{required:!0,message:"不能为空",trigger:"blur"}],materialWarehouse:[{required:!0,message:"不能为空",trigger:"blur"}]},categories:s["a"].getMineSelectMaterialOptions(),warehouses:i["a"].getSelectDomesticOptions(),materialWarehouses:i["a"].getSelectMaterialOptions(),tableConfig:{url:null,relations:["safetyStocks"],hasNew:!1,hasDelete:!1,hasOperation:!1,hasPagination:!1,countUrl:"",tableAttrs:{"row-class-name":this.statusClassName,"default-sort":{prop:"safetyStocks.stockGapQty3",order:"descending"}},columns:[{type:"selection"},o["a"].id,{prop:"skuCode",label:"SKU编码","min-width":200},{prop:"productName",label:"材料名","min-width":180},{prop:"categoryName",label:"分类","min-width":100},{prop:"unit",label:"单位","min-width":100},{prop:"safetyStocks.demandedQty2",label:"4周消耗","min-width":120},{prop:"safetyStocks.stockGapQty3",sortable:!0,label:"P2缺口","min-width":100},{prop:"safetyStocks.stockGapQty4",label:"P3缺口","min-width":100},{prop:"safetyStocks.stockGapQty5",label:"P4缺口","min-width":100},{prop:"safetyStocks.stockGapQty6",label:"P5缺口","min-width":200},{prop:"amazonTotalQty",label:"亚马逊成品(含在途)","min-width":100},{prop:"domesticStockQty",label:"国内成品库存(含在途)","min-width":100},{prop:"domesticMaterialStockQty",label:"国内原料库存","min-width":100},{prop:"supplierStockQty",label:"采购中库存","min-width":100}]}}},computed:{},methods:{statusClassName:function(e){var a=e.row;try{return a&&a.safetyStocks&&a.safetyStocks.stockGapQty3>0?"danger-row":""}catch(t){return"warning-row"}},search:function(){var e=this;this.$refs.searchForm.validate(function(a){a&&(e.tableConfig.url="/stocks/safetyMaterialStocks?category=".concat(e.param.category.join(","),"&warehouse=").concat(e.param.warehouse.join(","),"&materialWarehous=").concat(e.param.materialWarehouse.join(",")),e.$refs.table1.getList())})}},watch:{}},n=c,p=t("2877"),u=Object(p["a"])(n,r,l,!1,null,"44f1e745",null);a["default"]=u.exports}}]);