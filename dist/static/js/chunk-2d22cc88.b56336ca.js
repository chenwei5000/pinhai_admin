(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22cc88"],{f569:function(t,e,l){"use strict";l.r(e);var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return t.dialogVisible?l("el-dialog",{attrs:{title:t.dialogTitle,"append-to-body":"",width:"80%",top:"20px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"detailItem",attrs:{rules:t.rules,model:t.detailItem,"status-icon":"",inline:"","label-position":"right","label-width":"120px"}},[l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"序号",prop:"sortNum"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.sortNum,callback:function(e){t.$set(t.detailItem,"sortNum",e)},expression:"detailItem.sortNum"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"SKU编码",prop:"skuCode"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.skuCode,callback:function(e){t.$set(t.detailItem,"skuCode",e)},expression:"detailItem.skuCode"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"箱码",prop:"boxCode"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.boxCode,callback:function(e){t.$set(t.detailItem,"boxCode",e)},expression:"detailItem.boxCode"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"产品名",prop:"productId"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.productId,callback:function(e){t.$set(t.detailItem,"productId",e)},expression:"detailItem.productId"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"发货数量(箱)",prop:"shippedCartonQty"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.shippedCartonQty,callback:function(e){t.$set(t.detailItem,"shippedCartonQty",e)},expression:"detailItem.shippedCartonQty"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"存放货位",prop:"storageLocationId"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.storageLocationId,callback:function(e){t.$set(t.detailItem,"storageLocationId",e)},expression:"detailItem.storageLocationId"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"总发货件数",prop:"shippedQty"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.shippedQty,callback:function(e){t.$set(t.detailItem,"shippedQty",e)},expression:"detailItem.shippedQty"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"收货数量",prop:"receivedQty"}},[l("el-input",{staticStyle:{width:"220px"},model:{value:t.detailItem.receivedQty,callback:function(e){t.$set(t.detailItem,"receivedQty",e)},expression:"detailItem.receivedQty"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"异常备注",prop:"receivedNote"}},[l("el-input",{staticStyle:{width:"220px"},model:{value:t.detailItem.receivedNote,callback:function(e){t.$set(t.detailItem,"receivedNote",e)},expression:"detailItem.receivedNote"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:10}},[l("el-form-item",{attrs:{label:"合计箱数",prop:"receivedCartonQty"}},[l("el-input",{staticStyle:{width:"220px"},attrs:{disabled:!0},model:{value:t.detailItem.receivedCartonQty,callback:function(e){t.$set(t.detailItem,"receivedCartonQty",e)},expression:"detailItem.receivedCartonQty"}})],1)],1)],1),t._v(" "),l("el-row",[l("el-col",{attrs:{md:24}},[l("el-row",{attrs:{type:"flex",justify:"center"}},[l("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary",loading:t.confirmLoading},on:{click:t.onSave}},[t._v("\n            保存\n          ")])],1)],1)],1)],1)],1):t._e()},a=[],o=(l("c5f6"),{components:{},props:{primaryId:{type:Number,default:null}},computed:{dialogTitle:function(){return null==this.detailItemId?"添加采购入库明细":"修改采购入库明细"}},data:function(){return{dialogVisible:!1,loading:!1,confirmLoading:!1,url:"/procurementReceivedOrderItems",relations:["product","cartonSpec","procurementShippedOrder","procurementOrderItem","storageLocation"],detailItemId:null,detailItem:{sortNum:null,skuCode:null,boxCode:null,shippedCartonQty:null,storageLocationId:null,shippedQty:null,receivedQty:null,receivedNote:null,receivedCartonQty:null,productId:null},rules:{}}},created:function(){},mounted:function(){this.$nextTick(function(){})},methods:{initData:function(){var t=this;if(this.detailItemId){this.loading=!0;var e="".concat(this.url,"/").concat(this.detailItemId);this.relations&&this.relations.length>0&&(e+="?relations="+JSON.stringify(this.relations)),this.global.axios.get(e).then(function(e){var l=e.data,i=l||{};t.detailItem=i,t.detailItem.storageLocationId=t.detailItem.storageLocationId+"",t.detailItem.productId=t.detailItem.productId+"",t.loading=!1})}},openDialog:function(t){this.detailItemId=t,this.dialogVisible=!0,this.initData()},onSave:function(){var t=this;this.$refs.detailItem.validate(function(e){if(!e)return!1;t.loading=!0,t.confirmLoading=!0;var l="post",i=t.url+"";t.detailItemId&&t.detailItemId>0&&(l="put",i="".concat(t.url,"/").concat(t.detailItemId));var a=JSON.parse(JSON.stringify(t.detailItem));t.global.axios[l](i,a).then(function(e){t.$message.info("修改成功"),t.loading=!1,t.confirmLoading=!1,t.dialogVisible=!1,t.$emit("modifyCBEvent",e.data)}).catch(function(e){t.loading=!1,t.confirmLoading=!1})})}}}),d=o,r=l("2877"),n=Object(r["a"])(d,i,a,!1,null,"2016f3ed",null);e["default"]=n.exports}}]);