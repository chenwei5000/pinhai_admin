(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213c7c"],{adad:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.formVisible?l("el-dialog",{attrs:{title:"采购单修改 ",visible:e.formVisible,width:"70%"},on:{"update:visible":function(t){e.formVisible=t}}},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"编码",prop:"code",width:"100px"}},[l("el-input",{attrs:{readonly:"",placeholder:"编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"采购计划",prop:"procurementPlan.name"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.procurementPlan.name,callback:function(t){e.$set(e.form.procurementPlan,"name",t)},expression:"form.procurementPlan.name"}},e._l(e.test,function(e,t){return l("el-option",{key:t+"-"+e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"跟单员",prop:"merchandiser",width:"100px"}},[l("el-input",{attrs:{placeholder:"跟单员"},model:{value:e.form.merchandiser,callback:function(t){e.$set(e.form,"merchandiser",t)},expression:"form.merchandiser"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"收货仓库",prop:"warehouse.name"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.warehouse.name,callback:function(t){e.$set(e.form.warehouse,"name",t)},expression:"form.warehouse.name"}},e._l(e.warehouse,function(e,t){return l("el-option",{key:t+"-"+e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"结算方式",prop:"settlementMethod"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.settlementMethod,callback:function(t){e.$set(e.form,"settlementMethod",t)},expression:"form.settlementMethod"}},e._l(e.settlementMethods,function(e,t){return l("el-option",{key:t+"-"+e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"预计完成日期",prop:"procurementPlan.formatCreateTime"}},[l("el-date-picker",{attrs:{type:"datetime",placeholder:"预计完成日期时间"},model:{value:e.form.procurementPlan.formatCreateTime,callback:function(t){e.$set(e.form.procurementPlan,"formatCreateTime",t)},expression:"form.procurementPlan.formatCreateTime"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"状态",prop:"status"}},[l("el-input",{attrs:{readonly:"",label:"asd",placeholder:"状态"},model:{value:e.form.statusName,callback:function(t){e.$set(e.form,"statusName",t)},expression:"form.statusName"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"供货商",prop:"supplier.name"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.supplier.name,callback:function(t){e.$set(e.form.supplier,"name",t)},expression:"form.supplier.name"}},e._l(e.suppliers,function(e,t){return l("el-option",{key:t+"-"+e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"结算货币",prop:"currency.name"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.currency.name,callback:function(t){e.$set(e.form.currency,"name",t)},expression:"form.currency.name"}},e._l(e.currency,function(e,t){return l("el-option",{key:t+"-"+e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"账期",prop:"accountPeriod"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.accountPeriod,callback:function(t){e.$set(e.form,"accountPeriod",t)},expression:"form.accountPeriod"}},e._l(e.accountPeriod,function(e,t){return l("el-option",{key:t+"-"+e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"创建人",prop:"creator.name"}},[l("el-input",{attrs:{placeholder:"创建人"},model:{value:e.form.creator.name,callback:function(t){e.$set(e.form.creator,"name",t)},expression:"form.creator.name"}})],1)],1)],1)],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.formVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保 存")])],1)],1):e._e()},r=[],o=l("a6b9"),n=l("b9a9"),s=l("64dc"),i={props:{},data:function(){var e=[{label:"无",value:-1},{label:"货到付款",value:1},{label:"款到发货",value:2},{label:"预付定金",value:3}];return{formVisible:!1,loading:!1,event_id:"",test:[],suppliers:[],currency:[],warehouse:[],accountPeriod:[{label:"无",value:-1},{label:"30天",value:30},{label:"45天",value:45},{label:"60天",value:60},{label:"90天",value:90}],settlementMethods:e,form:{procurementPlan:{},warehouse:{},supplier:{},currency:{},creator:{}},rules:{}}},created:function(){},methods:{save:function(){var e=this;this.$refs["form"].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$confirm("确认修改？").then(function(t){e.loading=!0;var l="procurementOrders/".concat(e.row.id);e.global.axios.put(l,e.form).then(function(t){200==t.status&&e.$message.info("修改成功"),e.loading=!1,e.$emit("refresh")}).catch(function(t){e.$message.info("修改失败"),e.loading=!1,e.formVisible=!1})}).catch(function(e){})})}},mounted:function(){var e=this;this.$on("openDialog",function(t){e.loading=!0,e.row=t,e.formVisible=!0,e.suppliers=o["a"].getSelectOptions(),e.currency=n["a"].getSelectOptions(),e.warehouse=s["a"].getSelectOptions();var l="/procurementOrders/".concat(t.id,'?relations=["user", "team", "procurementPlan","currency","supplier","warehouse", "creator"]');e.global.axios.get(l).then(function(t){if(200==t.status){var l=t.data;l.accountPeriod||(l.accountPeriod=-1),e.form=l}e.loading=!1})})}},c=i,u=l("2877"),m=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=m.exports}}]);