(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-795e8e17"],{4080:function(e,t,o){"use strict";o("b1ef"),o("4360");var r={generateEventTitle:function(e){if(!e)return null;var t="label-grey",o='&nbsp;&nbsp;<i class="el-icon-ship"></i>&nbsp;&nbsp;';if("空运"==e.type&&(o='&nbsp;&nbsp;<i class="el-icon-s-promotion"></i>&nbsp;&nbsp;'),e.code&&(o+="("+e.code+") "),e.portOfLoading&&(o+="["+e.portOfLoading+"] "),e.categoryName&&(o+=e.categoryName),e.status>5&&e.status<11)switch(e.status){case 6:o+=" (SHIPPED)";break;case 7:o+=" (IN_TRANSIT)";break;case 8:o+=" (DELIVERED)";break;case 9:o+=" (CHECKED_IN)";break;case 10:o+=" (RECEIVING)";break}return t=11==e.status?"label-inverse":12==e.status?"label-pink":e.status>=6?"label-info":e.overdue?"label-danger":1==e.status?"label-grey":2==e.status?"label-yellow":3==e.status?"label-success":"label-pink",{className:t,title:o}}};t["a"]=r},9719:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"",visible:e.formVisible,width:"65%"},on:{"update:visible":function(t){e.formVisible=t}}},[o("fieldset",{staticClass:"panel-heading"},[o("legend",{staticClass:"panel-title"},[e._v("订船信息")]),e._v(" "),o("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"100px",inline:!0}},[o("el-form-item",{attrs:{label:"船运公司",prop:"carrier"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.carrier,callback:function(t){e.$set(e.form,"carrier",t)},expression:"form.carrier"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"货代公司",prop:"forwardingCompany"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.forwardingCompany,callback:function(t){e.$set(e.form,"forwardingCompany",t)},expression:"form.forwardingCompany"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"目的港口"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.portOfDestination,callback:function(t){e.$set(e.form,"portOfDestination",t)},expression:"form.portOfDestination"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"船名航次"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.vesselName,callback:function(t){e.$set(e.form,"vesselName",t)},expression:"form.vesselName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"物流单号"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.so,callback:function(t){e.$set(e.form,"so",t)},expression:"form.so"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"提单号"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.ladingBillNumber,callback:function(t){e.$set(e.form,"ladingBillNumber",t)},expression:"form.ladingBillNumber"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"箱号"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.boxNumber,callback:function(t){e.$set(e.form,"boxNumber",t)},expression:"form.boxNumber"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"封条号"}},[o("el-input",{attrs:{placeholder:""},model:{value:e.form.sealNumber,callback:function(t){e.$set(e.form,"sealNumber",t)},expression:"form.sealNumber"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"FBA ID"}},[o("el-input",{attrs:{placeholder:"",readonly:""},model:{value:e.form.shipmentId,callback:function(t){e.$set(e.form,"shipmentId",t)},expression:"form.shipmentId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"Reference ID"}},[o("el-input",{attrs:{placeholder:"",readonly:""},model:{value:e.form.referenceId,callback:function(t){e.$set(e.form,"referenceId",t)},expression:"form.referenceId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"开船时间",prop:"etdTime"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.etdTime,callback:function(t){e.$set(e.form,"etdTime",t)},expression:"form.etdTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"截单时间",prop:"bookingClosingTime","label-width":"120px"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.bookingClosingTime,callback:function(t){e.$set(e.form,"bookingClosingTime",t)},expression:"form.bookingClosingTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"截港时间",prop:"cyClosingTime","label-width":"120px"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.cyClosingTime,callback:function(t){e.$set(e.form,"cyClosingTime",t)},expression:"form.cyClosingTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"预计到港时间",prop:"etaTime","label-width":"120px"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.etaTime,callback:function(t){e.$set(e.form,"etaTime",t)},expression:"form.etaTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"预约送仓时间",prop:"bookingTime","label-width":"120px"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.bookingTime,callback:function(t){e.$set(e.form,"bookingTime",t)},expression:"form.bookingTime"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"订船备注"}},[o("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.form.shipDetail,callback:function(t){e.$set(e.form,"shipDetail",t)},expression:"form.shipDetail"}})],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.formVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"warning"},on:{click:e.navigateTo}},[e._v("跳 转")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保 存")])],1)])},l=[],a=(o("ec34"),o("c405"),o("c24f"),o("4080")),i=o("5c96"),s=null,n=function(){s=i["Loading"].service({fullscreen:!0})},m=function(){s&&s.close()},f={props:{},data:function(){return{fromWarehouses:[],toWarehouses:[],harbours:[],categorys:[],users:[],formVisible:!1,event_id:"",form:{carrier:"",forwardingCompany:"",portOfDestination:"",vesselName:"",so:"",etdTime:"",ladingBillNumber:"",boxNumber:"",sealNumber:"",bookingClosingTime:"",cyClosingTime:"",etaTime:"",bookingTime:"",shipmentId:"",referenceId:""},rules:{etdTime:[{required:!0,message:"开船时间不能为空",trigger:"blur"}],carrier:[{required:!0,message:"船运公司不能为空",trigger:"blur"}],forwardingCompany:[{required:!0,message:"货代公司不能为空",trigger:"blur"}],bookingClosingTime:[{required:!0,message:"截单时间不能为空",trigger:"blur"}]}}},methods:{save:function(){var e=this;this.$refs["form"].validate(function(t){if(!t)return!1;n(),e.global.axios.put("/linerShippingPlans/shipDate/".concat(e.event_id),e.form).then(function(t){if(200==t.status){var o=t.data,r=a["a"].generateEventTitle(o);e.$emit("editCalendarEvent",o,r),m(),e.formVisible=!1}})})},navigateTo:function(){console.log("跳转"),this.$router.push({path:"/dashboard"})}},mounted:function(){var e=this;this.$on("openDialog",function(t){e.event_id=t,e.global.axios.get("/linerShippingPlans/".concat(t)).then(function(t){200===t.status&&(e.formVisible=!0,e.form=t.data,e.form.etdTime=e.form.formatEtdTime,e.form.bookingClosingTime=e.form.formatBookingClosingTime,e.form.cyClosingTime=e.form.formatCyClosformatCyClosingTimeingTime,e.form.etaTime=e.form.formatEtaTime,e.form.bookingTime=e.form.formatBookingTime)})})}},c=f,p=o("2877"),u=Object(p["a"])(c,r,l,!1,null,null,null);t["default"]=u.exports}}]);