(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd3b5"],{"2ab2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.param,id:"filter-form",rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"分类",prop:"category"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择原料分类"},model:{value:e.param.category,callback:function(t){e.$set(e.param,"category",t)},expression:"param.category"}},e._l(e.categories,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"国内成品库存",prop:"warehouse"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择仓库"},model:{value:e.param.warehouse,callback:function(t){e.$set(e.param,"warehouse",t)},expression:"param.warehouse"}},e._l(e.warehouses,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{"native-type":"submit",type:"primary",size:"small"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("div",{staticClass:"ph-card"},[a("ph-card-header",{attrs:{title:e.title,type:"table"}}),e._v(" "),a("div",{staticClass:"ph-card-body"},[a("ph-table",e._b({ref:"table1"},"ph-table",e.tableConfig,!1))],1)],1)],1)},l=[],s=(a("b99d"),a("a97c")),o=(a("7eee"),a("85f3"),a("4328"),a("c405")),i=a("64dc"),c={data:function(){return{title:"成品安全库存",param:{category:"",warehouse:""},rules:{category:[{required:!0,message:"不能为空",trigger:"blur"}],warehouse:[{required:!0,message:"不能为空",trigger:"blur"}]},categories:o["a"].getMineSelectProdcutOptions(),warehouses:i["a"].getSelectDomesticOptions(),tableConfig:{url:null,relations:["safetyStocks"],hasNew:!1,hasDelete:!1,hasOperation:!1,hasPagination:!1,countUrl:"",tableAttrs:{"row-class-name":this.statusClassName,"default-sort":{prop:"safetyStocks.stockGapQty3",order:"descending"}},columns:[{type:"selection"},s["a"].id,{prop:"skuCode",label:"SKU编码","min-width":120},{prop:"productName",label:"材料名","min-width":120},{prop:"categoryName",label:"分类","min-width":100},{prop:"unit",label:"单位","min-width":100},{prop:"safetyStocks.demandedQty2",label:"4周消耗","min-width":120},{prop:"safetyStocks.stockGapQty3",sortable:!0,label:"P2缺口","min-width":100},{prop:"safetyStocks.stockGapQty4",label:"P3缺口","min-width":100},{prop:"vipLevelName",label:"Vip级别","min-width":100},{prop:"amazonTotalQty",label:"亚马逊成品(含在途)","min-width":180},{prop:"domesticStockQty",label:"国内库存","min-width":100}]}}},computed:{},methods:{statusClassName:function(e){var t=e.row;try{return t&&t.safetyStocks&&t.safetyStocks.stockGapQty3>0?"danger-row":""}catch(a){return"warning-row"}},search:function(){var e=this;this.$refs.searchForm.validate(function(t){t&&(e.tableConfig.url="/stocks/safetyStocks?category=".concat(e.param.category.join(","),"&warehouse=").concat(e.param.warehouse.join(",")),e.$refs.table1.getList())})}},watch:{}},n=c,p=a("2877"),u=Object(p["a"])(n,r,l,!1,null,"2a0b4ce0",null);t["default"]=u.exports}}]);