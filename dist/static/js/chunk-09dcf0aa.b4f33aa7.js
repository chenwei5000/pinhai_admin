(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09dcf0aa","chunk-67cf4063","chunk-c08004ae","chunk-3ed097c2","chunk-75c91e3e","chunk-4caa33da","chunk-7d54fa6d","chunk-99a1c004"],{"1dfc":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dialogVisible?i("el-dialog",{staticClass:"ph-dialog",attrs:{title:t.title,"append-to-body":"",width:"80%",top:"3vh",visible:t.dialogVisible},on:{close:t.closeDialog,"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"block",staticStyle:{height:"420px"}},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",{staticClass:"ph-table"},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"detailItem",attrs:{rules:t.rules,model:t.printObject,"status-icon":"",inline:"","label-position":"right","label-width":"120px"}},[i("fieldset",{staticClass:"panel-heading"},[i("legend",{staticClass:"panel-title"},[t._v("需方\n              "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                  采购需求方。\n                ")]),t._v(" "),i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"公司名称",prop:"demanderName"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"100","show-word-limit":"",placeholder:"请填写需求方公司名称",clearable:""},model:{value:t.printObject.demanderName,callback:function(e){t.$set(t.printObject,"demanderName","string"===typeof e?e.trim():e)},expression:"printObject.demanderName"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"公司地址",prop:"demanderAddress"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"200","show-word-limit":"",placeholder:"请填写需求方公司地址",clearable:""},model:{value:t.printObject.demanderAddress,callback:function(e){t.$set(t.printObject,"demanderAddress","string"===typeof e?e.trim():e)},expression:"printObject.demanderAddress"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"联系人",prop:"demanderLinkMan"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写需求方联系人",clearable:""},model:{value:t.printObject.demanderLinkMan,callback:function(e){t.$set(t.printObject,"demanderLinkMan","string"===typeof e?e.trim():e)},expression:"printObject.demanderLinkMan"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"联系电话",prop:"demanderLinkMethod"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写需求方联系电话",clearable:""},model:{value:t.printObject.demanderLinkMethod,callback:function(e){t.$set(t.printObject,"demanderLinkMethod","string"===typeof e?e.trim():e)},expression:"printObject.demanderLinkMethod"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:23}},[i("el-form-item",{attrs:{label:"收货地址",prop:"demanderDeliveryAddress"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"200","show-word-limit":"",placeholder:"请填写需求收货地址",clearable:""},model:{value:t.printObject.demanderDeliveryAddress,callback:function(e){t.$set(t.printObject,"demanderDeliveryAddress","string"===typeof e?e.trim():e)},expression:"printObject.demanderDeliveryAddress"}})],1)],1)],1)],1),t._v(" "),i("fieldset",{staticClass:"panel-heading"},[i("legend",{staticClass:"panel-title"},[t._v("供方\n              "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                  采购提供方。\n                ")]),t._v(" "),i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"公司名称",prop:"supplierName"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"100","show-word-limit":"",placeholder:"请填写供货方公司名称",clearable:""},model:{value:t.printObject.supplierName,callback:function(e){t.$set(t.printObject,"supplierName","string"===typeof e?e.trim():e)},expression:"printObject.supplierName"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"公司地址",prop:"supplierAddress"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"200","show-word-limit":"",placeholder:"请填写供货方公司地址",clearable:""},model:{value:t.printObject.supplierAddress,callback:function(e){t.$set(t.printObject,"supplierAddress","string"===typeof e?e.trim():e)},expression:"printObject.supplierAddress"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"联系人",prop:"supplierLinkMan"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写供货方联系人",clearable:""},model:{value:t.printObject.supplierLinkMan,callback:function(e){t.$set(t.printObject,"supplierLinkMan","string"===typeof e?e.trim():e)},expression:"printObject.supplierLinkMan"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"联系电话",prop:"supplierLinkMethod"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写供货方联系电话",clearable:""},model:{value:t.printObject.supplierLinkMethod,callback:function(e){t.$set(t.printObject,"supplierLinkMethod","string"===typeof e?e.trim():e)},expression:"printObject.supplierLinkMethod"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"收款银行",prop:"supplierBankName"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写供货方收款银行",clearable:""},model:{value:t.printObject.supplierBankName,callback:function(e){t.$set(t.printObject,"supplierBankName","string"===typeof e?e.trim():e)},expression:"printObject.supplierBankName"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"收款户名",prop:"supplierBankAccountName"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写供货方收款户名",clearable:""},model:{value:t.printObject.supplierBankAccountName,callback:function(e){t.$set(t.printObject,"supplierBankAccountName","string"===typeof e?e.trim():e)},expression:"printObject.supplierBankAccountName"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:24}},[i("el-form-item",{attrs:{label:"收款账号",prop:"supplierBankAccount"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写供货方收款账号",clearable:""},model:{value:t.printObject.supplierBankAccount,callback:function(e){t.$set(t.printObject,"supplierBankAccount","string"===typeof e?e.trim():e)},expression:"printObject.supplierBankAccount"}})],1)],1)],1)],1),t._v(" "),i("fieldset",{staticClass:"panel-heading"},[i("legend",{staticClass:"panel-title"},[t._v("要求\n              "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                  采购合同相关要求。\n                ")]),t._v(" "),i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"采购品类",prop:"categoryName"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写采购品类",clearable:""},model:{value:t.printObject.categoryName,callback:function(e){t.$set(t.printObject,"categoryName","string"===typeof e?e.trim():e)},expression:"printObject.categoryName"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"结算货币",prop:"currency"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写结算货币",clearable:""},model:{value:t.printObject.currency,callback:function(e){t.$set(t.printObject,"currency","string"===typeof e?e.trim():e)},expression:"printObject.currency"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"交货时间",prop:"deliveryTime"}},[i("el-input",{staticStyle:{width:"200px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写交货时间",clearable:""},model:{value:t.printObject.deliveryTime,callback:function(e){t.$set(t.printObject,"deliveryTime","string"===typeof e?e.trim():e)},expression:"printObject.deliveryTime"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"生效日期",prop:"effectiveDate"}},[i("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.printObject.effectiveDate,callback:function(e){t.$set(t.printObject,"effectiveDate",e)},expression:"printObject.effectiveDate"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:23}},[i("el-form-item",{attrs:{label:"签约地址",prop:"signAddress"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:"200","show-word-limit":"",placeholder:"请填写签约地址",clearable:""},model:{value:t.printObject.signAddress,callback:function(e){t.$set(t.printObject,"signAddress","string"===typeof e?e.trim():e)},expression:"printObject.signAddress"}})],1)],1)],1)],1)])],1)])],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeDialog}},[t._v("关 闭")])],1)]):t._e()},a=[],r=i("cebc"),o=i("2f62"),l={components:{},props:{},computed:Object(r["a"])({},Object(o["b"])(["device","rolePower"]),{title:function(){return"打印采购合同"}}),data:function(){return{primary:{},printObject:{},dialogVisible:!1}},created:function(){},mounted:function(){this.$nextTick(function(){})},methods:{initData:function(){},openDialog:function(t){this.primary=t,this.initData(),this.dialogVisible=!0},closeDialog:function(){this.primary={},this.printObject={},this.dialogVisible=!1},onPaymentCBEvent:function(t){this.$emit("paymentCBEvent",t)}}},s=l,c=(i("9ea2"),i("2877")),p=Object(c["a"])(s,n,a,!1,null,"a6191bda",null);e["default"]=p.exports},"2e49":function(t,e,i){"use strict";var n=i("50f8"),a=i.n(n);a.a},"3b9b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dialogVisible?i("el-dialog",{attrs:{title:t.title,"append-to-body":"",width:"80%",top:"3vh",visible:t.dialogVisible},on:{close:t.closeDialog,"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"block",staticStyle:{height:"420px"}},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("payment",{ref:"payment",attrs:{primary:t.primary},on:{paymentCBEvent:t.onPaymentCBEvent}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closeDialog}},[t._v("关 闭")])],1)]):t._e()},a=[],r=i("cebc"),o=i("2f62"),l=i("f188"),s=i("ed08"),c={components:{payment:l["default"]},props:{},filters:{currency:s["b"]},computed:Object(r["a"])({},Object(o["b"])(["device","rolePower"]),{title:function(){return"采购单申请预付款"}}),data:function(){return{primary:{},dialogVisible:!1}},created:function(){},mounted:function(){this.$nextTick(function(){})},methods:{initData:function(){},openDialog:function(t){this.primary=t,this.initData(),this.dialogVisible=!0},closeDialog:function(){this.primary={},this.dialogVisible=!1},onPaymentCBEvent:function(t){this.$emit("paymentCBEvent",t)}}},p=c,u=(i("e300"),i("2877")),d=Object(u["a"])(p,n,a,!1,null,"cabbedc2",null);e["default"]=d.exports},"3cde":function(t,e,i){"use strict";var n=i("f7bc"),a=i.n(n);a.a},4155:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tag-group"},[t._l(t.primary.dataAuthories,function(e){return i("el-tag",{key:e.userId,attrs:{type:"success",closable:"","disable-transitions":!1},on:{close:function(i){return t.handleRemove(e)}}},[t._v("\n      "+t._s(e.user.name)+"\n    ")])}),t._v(" "),i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.openPersonDialog}},[t._v("+ 添加负责人")])],2),t._v(" "),i("phMembers",{ref:"members",attrs:{title:"选择负责人"},on:{saveCBEvent:t.saveCBEvent}})],1)},a=[],r=(i("5df3"),i("ac6a"),i("ed08"),i("d2d1")),o={components:{phMembers:r["a"]},props:{primary:{type:[Object],default:{}}},computed:{},data:function(){return{loading:!1,url:"/procurementOrders",relations:["creator"],filters:[{field:"relevanceId",op:"eq",data:this.primary.id}],attachments:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.initData()})},methods:{initData:function(){},openPersonDialog:function(){this.$refs.members.openDialog()},assign:function(t){var e="".concat(this.url,"/assign/").concat(this.primary.id,"/").concat(t);return this.global.axios.put(e).then(function(t){}).catch(function(t){})},saveCBEvent:function(t){var e=this;if(t&&this.primary){var i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=[];t.forEach(function(t){n.push(e.assign(t))}),Promise.all(n).then(function(t){e.$refs.members.closeDialog(),e.$message.info("操作成功!"),i.close(),e.$emit("reloadCBEvent")})}},handleRemove:function(t){var e=this;t&&t.userId&&this.$confirm("确认删除吗","提示",{type:"warning",beforeClose:function(i,n,a){if("confirm"==i){var r=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),o="".concat(e.url,"/cancelAssign/").concat(e.primary.id,"/").concat(t.userId);e.global.axios.put(o).then(function(t){a(),e.$message.info("操作成功!"),r.close(),e.$emit("reloadCBEvent")}).catch(function(t){r.close()}),a()}else a()}}).catch(function(t){})}}},l=o,s=(i("3cde"),i("2877")),c=Object(s["a"])(l,n,a,!1,null,"2608c800",null);e["default"]=c.exports},"4a74":function(t,e,i){},"50f8":function(t,e,i){},"61a5":function(t,e,i){"use strict";var n=i("4a74"),a=i.n(n);a.a},"642f":function(t,e,i){"use strict";var n=i("b797"),a=i.n(n);a.a},"6aa8":function(t,e,i){},"6b1f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ph-form"},[i("el-upload",{staticClass:"upload-demo",attrs:{action:t.uploadUrl,"on-preview":t.handlePreview,"before-remove":t.beforeRemove,"on-success":t.handleSuccess,multiple:"","file-list":t.attachments}},[i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"}},[t._v("+ 添加附件")])],1)],1)},a=[],r=(i("7f7f"),i("ac6a"),i("ed08"),{components:{},props:{primary:{type:[Object],default:{}}},computed:{uploadUrl:function(){return"".concat(this.global.generateUrl(this.url),"/uploadFiles/").concat(this.primary.id,"?accessToken=").concat(this.$store.state.user.token)}},data:function(){return{url:"/attachments/procurementOrder",relations:["creator"],filters:[{field:"relevanceId",op:"eq",data:this.primary.id}],attachments:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.initData()})},methods:{initData:function(){var t=this;if(this.primary){var e=this.url;this.filters&&this.filters.length>0&&(e+="?filters="+JSON.stringify({groupOp:"AND",rules:this.filters})),this.relations&&this.relations.length>0&&(e+="&relations="+JSON.stringify(this.relations)),this.global.axios.get(e).then(function(e){var i=e.data,n=i||[];t.attachments=[],n.forEach(function(e){t.attachments.push({id:e.id,name:e.fileName,url:"".concat(t.global.generateUrl(t.url),"/view/").concat(e.id,"?accessToken=").concat(t.$store.state.user.token)})})}).catch(function(t){})}},remove:function(t){var e=this;if(this.primary){var i="".concat(this.global.generateUrl(this.url),"/").concat(t.id,"?accessToken=").concat(this.$store.state.user.token);this.global.axios.delete(i).then(function(t){e.$message.info("附件删除成功!")}).catch(function(t){})}},handleSuccess:function(){this.initData()},handlePreview:function(t){window.open(t.url,"_blank")},beforeRemove:function(t,e){var i=this;return this.$confirm("确定移除 ".concat(t.name,"？"),"提示",{beforeClose:function(e,n,a){"confirm"==e?(i.remove(t),a(!0)):a(!1)}})}}}),o=r,l=(i("642f"),i("2877")),s=Object(l["a"])(o,n,a,!1,null,"09b50b96",null);e["default"]=s.exports},"83f2":function(t,e,i){},9420:function(t,e,i){},"99e1":function(t,e,i){"use strict";var n=i("9420"),a=i.n(n);a.a},"9ea2":function(t,e,i){"use strict";var n=i("6aa8"),a=i.n(n);a.a},a21b:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ph-form"},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"editObject",attrs:{rules:t.rules,model:t.editObject,"status-icon":"",inline:"","label-position":"right","label-width":"120px","inline-message":""}},[i("fieldset",{staticClass:"panel-heading"},[i("legend",{staticClass:"panel-title"},[t._v("交货要求\n        "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n            销售对采购计划的要求\n          ")]),t._v(" "),i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1),t._v(" "),t.primary.procurementPlan.note?i("el-row",{domProps:{innerHTML:t._s(t.primary.procurementPlan.formatNote)}}):i("el-row",[t._v("\n        无\n      ")])],1),t._v(" "),i("fieldset",{staticClass:"panel-heading",staticStyle:{"margin-top":"15px"}},[i("legend",{staticClass:"panel-title"},[t._v("采购单信息\n        "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n            采购单相关信息\n          ")]),t._v(" "),i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"供货商",prop:"supplierId"}},[i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.editObject.supplier.name))])])],1),t._v(" "),i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"收货仓库",prop:"warehouseId"}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择收货仓库"},model:{value:t.editObject.warehouseId,callback:function(e){t.$set(t.editObject,"warehouseId",e)},expression:"editObject.warehouseId"}},t._l(t.warehouseSelectOptions,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"采购的商品接收的仓库",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1)],1),t._v(" "),i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"预计完成日期",prop:"supplierId"}},[i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.editObject.formatOtdTime?t.editObject.formatOtdTime:"无"))])])],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"结算方式",prop:"settlementMethod"}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择结算方式"},model:{value:t.editObject.settlementMethod,callback:function(e){t.$set(t.editObject,"settlementMethod",e)},expression:"editObject.settlementMethod"}},t._l(t.settlementMethodSelectOptions,function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"采购单的结算方式。货到付款方式不用走预付款流程。",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1)],1),t._v(" "),i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"结算货币",prop:"currencyId"}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择结算货币"},model:{value:t.editObject.currencyId,callback:function(e){t.$set(t.editObject,"currencyId",e)},expression:"editObject.currencyId"}},t._l(t.currencySelectOptions,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"使用什么货币跟供货商进行结算。",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1)],1),t._v(" "),i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"帐期",prop:"accountPeriod"}},[i("el-input-number",{staticStyle:{width:"155px"},attrs:{min:1,step:1,max:365,label:"帐期"},model:{value:t.editObject.accountPeriod,callback:function(e){t.$set(t.editObject,"accountPeriod",e)},expression:"editObject.accountPeriod"}}),t._v("\n            天\n            "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"生产商、批发商向零售商供货后，直至零售商付款的这段时间周期",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1)],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:24}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[t.hasEdit?i("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary",loading:t.confirmLoading},on:{click:t.onSave}},[t._v("\n            保存基本信息\n          ")]):t._e()],1)],1)],1)],1)],1)},a=[],r=(i("ac6a"),i("ed08"),i("c971")),o=i("b9a9"),l={components:{},props:{primary:{type:[Object],default:{}}},computed:{hasEdit:function(){return!([0,8].indexOf(this.primary.status)>-1)},hasCategory:function(){return null==this.editObject.categoryId||0==this.editObject.categoryId.length}},data:function(){return{loading:!1,confirmLoading:!1,warehouseSelectOptions:[],settlementMethodSelectOptions:[],currencySelectOptions:[],selCurrency:{},editObject:{id:null,supplierId:null,warehouseId:null,settlementMethod:null,currencyId:null,accountPeriod:null,supplier:{name:""}},rules:{supplierId:[{required:!0,message:"必须输入",trigger:"blur"}],warehouseId:[{required:!0,message:"必须输入",trigger:"blur"}],settlementMethod:[{required:!0,message:"必须输入",trigger:"blur"}],currencyId:[{required:!0,message:"必须输入",trigger:"blur"}],accountPeriod:[{required:!0,message:"必须输入",trigger:"blur"}]}}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.initData()})},methods:{initData:function(){this.loading=!0,this.primary?(this.editObject=JSON.parse(JSON.stringify(this.primary)),this.editObject.settlementMethod=this.editObject.settlementMethod+"",this.settlementMethodSelectOptions=r["a"].getSelectOptions("SettlementMethod"),this.initCurrencData(),this.initWarehouseData(),this.loading=!1):(this.$message.error("无效的采购计划!"),this.loading=!1)},initWarehouseData:function(){var t=this;this.loading=!0;var e="/warehouses",i=[{field:"status",op:"eq",data:"1"},{field:"type",op:"in",data:"普通,原料仓,工厂仓"}];e+="?filters="+JSON.stringify({groupOp:"AND",rules:i}),this.global.axios.get(e).then(function(e){var i=e.data||[];t.warehouseSelectOptions=[],i.forEach(function(e){t.warehouseSelectOptions.push(e)}),t.loading=!1}).catch(function(e){t.loading=!1})},initCurrencData:function(){var t=this;this.loading=!0,o["a"].getCurrencies().then(function(e){var i=e||[];t.currencySelectOptions=[],i.forEach(function(e){t.currencySelectOptions.push(e)}),t.loading=!1}).catch(function(e){t.loading=!1})},onSave:function(){var t=this;this.$confirm("注意保存基本信息只会修改对应的参数，您是否继续？","提示",{type:"warning",beforeClose:function(e,i,n){"confirm"==e?(n(),t.modifyObject()):n()}}).catch(function(t){})},modifyObject:function(){var t=this,e=JSON.parse(JSON.stringify(this.editObject)),i=this.$loading({lock:!0,text:"保存中..",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.global.axios.put("/procurementOrders/".concat(this.editObject.id),e).then(function(e){var n=e.data;t.$message({type:"success",message:"操作成功"}),i.close(),t.$emit("modifyCBEvent",n)}).catch(function(t){i.close()})},onCateChange:function(t){this.initGroupData(t),this.initWarehouseData(t)}}},s=l,c=(i("61a5"),i("2877")),p=Object(c["a"])(s,n,a,!1,null,"3ac6efb0",null);e["default"]=p.exports},b797:function(t,e,i){},ba49:function(t,e,i){},bc8e:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dialogVisible?i("el-dialog",{staticClass:"ph-dialog",staticStyle:{"padding-bottom":"40px"},attrs:{title:t.title,visible:t.dialogVisible,fullscreen:""},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeDialog}},[i("el-row",{staticStyle:{"text-align":"right",position:"fixed",right:"20px",bottom:"0px","background-color":"#FFF",padding:"5px","z-index":"9999",width:"100%"}},[1==t.primary.status?i("el-button",{attrs:{type:"primary",icon:"el-icon-s-check"},on:{click:t.onCommit}},[t._v("发布")]):t._e(),t._v(" "),t.hasWithdraw?i("el-button",{attrs:{type:"warning",icon:"el-icon-refresh-left"},on:{click:t.onWithdraw}},[t._v("撤回")]):t._e(),t._v(" "),t.hasExecute?i("el-button",{attrs:{type:"primary",icon:"el-icon-money"},on:{click:t.onPayment}},[t._v("申请付款")]):t._e(),t._v(" "),t.hasExecute?i("el-button",{attrs:{type:"primary",icon:"el-icon-printer"},on:{click:t.onPrint}},[t._v("打印合同")]):t._e(),t._v(" "),t.hasExecute?i("el-button",{attrs:{type:"success",icon:"el-icon-s-claim"},on:{click:t.onComplete}},[t._v("结束计划")]):t._e(),t._v(" "),t.hasAdmin?i("el-button",{attrs:{type:"danger",icon:"el-icon-s-opportunity"},on:{click:t.onStatus}},[t._v("修改状态")]):t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.closeDialog}},[t._v("取 消")])],1),t._v(" "),i("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("el-collapse-item",{attrs:{name:"infoFrom"}},[i("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("1. 基本信息")]),t._v(" "),t.primaryComplete?i("infoFrom",{ref:"infoFrom",attrs:{primary:t.primary},on:{modifyCBEvent:t.modifyCBEvent}}):t._e()],1),t._v(" "),i("el-collapse-item",{staticStyle:{"margin-top":"10px"},attrs:{name:"itemTable"}},[i("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("2. 采购产品详情")]),t._v(" "),t.primaryComplete?i("itemTable",{ref:"itemTable",attrs:{primary:t.primary}}):t._e()],1),t._v(" "),i("el-collapse-item",{staticStyle:{"margin-top":"10px"},attrs:{name:"attachment"}},[i("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("3. 附件")]),t._v(" "),t.primaryComplete?i("attachment",{ref:"attachment",attrs:{primary:t.primary}}):t._e()],1),t._v(" "),i("el-collapse-item",{staticStyle:{"margin-top":"10px"},attrs:{name:"person"}},[i("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("4. 指派采购负责人")]),t._v(" "),t.primaryComplete?i("person",{ref:"person",attrs:{primary:t.primary},on:{reloadCBEvent:t.reloadCBEvent}}):t._e()],1),t._v(" "),i("el-collapse-item",{staticStyle:{"margin-top":"10px"},attrs:{name:"logs"}},[i("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("5. 日志")]),t._v(" "),t.logComplete?i("logs",{ref:"logs",attrs:{logs:t.logs},on:{reloadCBEvent:t.reloadCBEvent}}):t._e()],1)],1),t._v(" "),i("phStatus",{ref:"phStatus",attrs:{statusName:"ProcurementPlanStatus",objStatus:t.primary.status},on:{saveStatusCBEvent:t.saveStatusCBEvent}}),t._v(" "),i("auditing",{ref:"auditing",on:{saveAuditCBEvent:t.saveAuditCBEvent}}),t._v(" "),i("paymentDialog",{ref:"paymentDialog",on:{paymentCBEvent:t.onPaymentCBEvent}}),t._v(" "),i("printDialog",{ref:"printDialog"})],1):t._e()},a=[],r=i("cebc"),o=i("2f62"),l=i("a21b"),s=i("b6db"),c=i("6b1f"),p=i("fdae"),u=i("4155"),d=i("62af"),m=i("88d9"),f=i("3b9b"),h=i("1dfc"),b=i("ed08"),g={components:{infoFrom:l["default"],itemTable:s["default"],attachment:c["default"],person:u["default"],phStatus:d["a"],auditing:m["a"],logs:p["default"],paymentDialog:f["default"],printDialog:h["default"]},props:{},filters:{currency:b["b"]},computed:Object(r["a"])({},Object(o["b"])(["device","rolePower"]),{hasWithdraw:function(){return[2,3,4,5].indexOf(this.primary.status)>-1},hasExecute:function(){return[3,4,5,6,7,8,9,10].indexOf(this.primary.status)>-1},hasAdmin:function(){return!0},title:function(){return"编辑采购单 ["+this.primary.code+"] -- ("+this.primary.statusName+"状态)"}}),data:function(){return{primaryId:null,primary:{},logs:[],primaryComplete:!1,logComplete:!1,dialogVisible:!1,activeNames:[],url:"/procurementOrders",relations:["procurementPlan","currency","supplier"]}},created:function(){},mounted:function(){this.$nextTick(function(){})},methods:{initData:function(){var t=this;if(this.primaryId){var e="".concat(this.url,"/").concat(this.primaryId);e+="?relations="+JSON.stringify(this.relations),this.global.axios.get(e).then(function(e){var i=e.data;t.primary=i||{},t.dialogVisible=!0,t.primaryComplete=!0}).catch(function(t){});var i=[],n="/procurementOrderLogs",a=["creator"];i.push({field:"procurementOrderId",op:"eq",data:this.primaryId}),n+="?filters="+JSON.stringify({groupOp:"AND",rules:i}),n+="&sort=id&dir=desc",n+="&relations="+JSON.stringify(a),this.global.axios.get(n).then(function(e){var i=e.data;t.logs=i||[],t.logComplete=!0,t.dialogVisible=!0}).catch(function(t){})}},openDialog:function(t){this.primaryId=t,this.initData(),this.activeNames=["infoFrom","itemTable","attachment","person","logs"]},closeDialog:function(){this.primary={},this.primaryId=null,this.logs=[],this.dialogVisible=!1,this.primaryComplete=!1,this.logComplete=!1},modifyCBEvent:function(t){this.initData(),this.$emit("modifyCBEvent",t)},reloadCBEvent:function(){this.initData()},onPayment:function(){this.$refs.paymentDialog.openDialog(this.primary)},onPaymentCBEvent:function(t){console.log(t),this.initData()},onPrint:function(){this.$refs.printDialog.openDialog(this.primary)},onStatus:function(){this.$refs.phStatus.openDialog()},saveStatusCBEvent:function(t){var e=this,i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n="/procurementOrders/status/".concat(this.primaryId,"/").concat(t);this.global.axios.put(n).then(function(t){e.$refs.phStatus.closeDialog(),e.$message.info("操作成功!"),i.close(),e.initData(),e.$emit("modifyCBEvent")}).catch(function(t){i.close()})},business:function(t,e,i,n){var a=this;this.$confirm(t,"提示",{type:"warning",beforeClose:function(t,r,o){if("confirm"==t){var l=a.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),s="/procurementOrders/".concat(e,"/").concat(a.primaryId);a.global.axios.put(s,n||" ").then(function(t){o(),a.$message.info(i),l.close(),a.$refs.auditing.closeDialog(),a.initData(),a.$emit("modifyCBEvent")}).catch(function(t){l.close()}),o()}else o()}}).catch(function(t){})},saveAuditCBEvent:function(t,e){"commit"==e?this.business("确认将该采购单发布。如果采购单中有计划外的产品，将会需要销售进行审核?","commit","操作成功!",t):"agree"==e?this.business("确认同意该计划吗?","agree","操作成功!",t):"refuse"==e&&this.business("确认拒绝该计划吗?","refuse","操作成功!",t)},onCommit:function(){this.business("确认将该采购单发布。如果采购单中有计划外的产品，将会需要销售进行审核?","commit","操作成功!","")},onAgree:function(){this.$refs.auditing.openDialog("agree")},onRefuse:function(){this.$refs.auditing.openDialog("refuse")},onWithdraw:function(){this.business("确认撤回该采购单吗?","withdraw","操作成功!")},onHandover:function(){},onShare:function(){},onComplete:function(){}}},v=g,y=(i("99e1"),i("2877")),_=Object(y["a"])(v,n,a,!1,null,"458d0ae6",null);e["default"]=_.exports},e300:function(t,e,i){"use strict";var n=i("ba49"),a=i.n(n);a.a},f188:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("aside",{staticStyle:{"font-size":"12px"}},[t._v("\n    采购预付款是指与供货商约定在发货前的付款行为。例如：采购定金、采购打样费用 等等。"),i("BR"),t._v("\n    采购预付款会在之后采购单结算时，作为已付金额。"),i("BR"),t._v(" "),i("hr"),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("采购单编号："+t._s(this.primary.code)+" ")]),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("供货商："+t._s(this.primary.supplier.name)+" ")]),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("结算货币："+t._s(this.primary.currency.name)+" ")]),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v(" 负责人：\n      "),t._l(this.primary.dataAuthories,function(e){return[t._v(t._s(e.user.name)+" ")]})],2),t._v(" "),i("BR"),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("订单件数："+t._s(this.orderAmount.orderQty)+" 件")]),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("订单箱数："+t._s(this.orderAmount.orderCartonQty)+" 箱")]),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("总金额：\n      "+t._s(t._f("currency")(this.orderAmount.orderAmount,this.primary.currency.symbolLeft))+"\n    ")]),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("申请总金额：\n      "+t._s(t._f("currency")(this.paymentAmount.payableAmount,this.primary.currency.symbolLeft))+"\n    ")]),t._v(" "),i("span",{staticStyle:{"margin-right":"30px"}},[t._v("已付总金额：\n      "+t._s(t._f("currency")(this.paymentAmount.paymentAmount,this.primary.currency.symbolLeft))+"\n    ")]),t._v(" "),i("hr"),t._v("\n    预付款记录:"),i("BR"),t._v(" "),i("div",{staticClass:"ph-table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.financeBills,"cell-class-name":"ph-cell","header-cell-class-name":"ph-cell-header"}},[i("el-table-column",{attrs:{prop:"formatCreateTime",label:"申请日期",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"creator.name",label:"申请人",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"code",label:"付款单号",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"payableAmount",label:"申请金额",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("currency")(e.row.payableAmount?e.row.payableAmount:0,t.primary.currency.symbolLeft))+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"address",label:"付款金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("currency")(e.row.paymentAmount?e.row.paymentAmount:0,t.primary.currency.symbolLeft))+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"address",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{attrs:{size:"small",type:0===e.row.status?"info":1===e.row.status?"warning":"success","disable-transitions":""}},[t._v(" "+t._s(0===e.row.status?"已拒绝":1===e.row.status?"未付款":"已付款")+"\n            ")])]}}])})],1)],1)],1),t._v(" "),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"paymentFrom",attrs:{rules:t.rules,model:t.paymentObjet,"status-icon":"",inline:"","label-position":"right","label-width":"120px"}},[i("fieldset",{staticClass:"panel-heading",staticStyle:{"margin-top":"15px"}},[i("legend",{staticClass:"panel-title"},[t._v("申请付款\n        "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n            申请付款\n          ")]),t._v(" "),i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"申请付款金额",prop:"payableAmount"}},[i("el-input-number",{staticStyle:{width:"155px"},attrs:{precision:2,min:0,step:1,max:1e7,label:"申请付款金额"},on:{change:t.onPayableAmountChange},model:{value:t.paymentObjet.payableAmount,callback:function(e){t.$set(t.paymentObjet,"payableAmount",e)},expression:"paymentObjet.payableAmount"}}),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"申请付款金额",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1)],1),t._v(" "),i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"最晚付款时间",prop:"prepayTime"}},[i("el-date-picker",{staticStyle:{width:"155px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.paymentObjet.prepayTime,callback:function(e){t.$set(t.paymentObjet,"prepayTime",e)},expression:"paymentObjet.prepayTime"}}),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"财务必须在该日期前付款",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1)],1),t._v(" "),i("el-col",{attrs:{md:8}},[i("el-form-item",{attrs:{label:"金额占比 %",prop:"ratio"}},[i("el-input-number",{staticStyle:{width:"155px"},attrs:{precision:2,min:0,step:1,max:100,label:"金额占比"},on:{change:t.onRatioChange},model:{value:t.paymentObjet.ratio,callback:function(e){t.$set(t.paymentObjet,"ratio",e)},expression:"paymentObjet.ratio"}}),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"本次付款占总额的百分比。通过设置占比可以自动计算金额。",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[t._v(" ")])])],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:24}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-button",{staticStyle:{"margin-top":"40px"},attrs:{type:"primary"},on:{click:t.onPayment}},[t._v("\n              申请\n            ")])],1)],1)],1)],1)])],1)},a=[],r=i("ed08"),o=i("d2d1"),l={components:{phMembers:o["a"]},props:{primary:{type:[Object],default:{}}},computed:{},filters:{currency:r["b"]},data:function(){return{loading:!1,url:"/financeBills",relations:["creator"],filters:[{field:"relevanceCode",op:"eq",data:this.primary.code}],orderAmount:{},paymentAmount:{},financeBills:[],paymentObjet:{payableAmount:null,prepayTime:null,ratio:null},rules:{payableAmount:[{required:!0,message:"必须输入",trigger:"blur"}],prepayTime:[{required:!0,message:"必须输入",trigger:"blur"}]}}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.initData()})},methods:{initData:function(){var t=this;this.global.axios.get("/procurementOrders/amount/".concat(this.primary.id)).then(function(e){var i=e.data;t.orderAmount=i||{}}).catch(function(t){}),this.global.axios.get("/financeBills/paymentAmount/".concat(this.primary.code)).then(function(e){var i=e.data;t.paymentAmount=i||{}}).catch(function(t){});var e=this.url;this.filters&&this.filters.length>0&&(e+="?filters="+JSON.stringify({groupOp:"AND",rules:this.filters})),this.relations&&this.relations.length>0&&(e+="&relations="+JSON.stringify(this.relations)),e+="&sort=id&dir=desc",this.global.axios.get(e).then(function(e){var i=e.data;t.financeBills=i||{}}).catch(function(t){})},onPayableAmountChange:function(t){this.paymentObjet.ratio=(t/this.orderAmount.orderAmount*100).toFixed(2),this.$forceUpdate()},onRatioChange:function(t){this.paymentObjet.payableAmount=(t/100*this.orderAmount.orderAmount).toFixed(2),this.$forceUpdate()},onPayment:function(){var t=this;this.$refs.paymentFrom.validate(function(e){e&&t.$confirm("您确定提交本次付款申请吗？","提示",{type:"warning",beforeClose:function(e,i,n){"confirm"==e?(n(),t.paymentObject()):n()}}).catch(function(t){})})},paymentObject:function(){var t=this,e=JSON.parse(JSON.stringify(this.paymentObjet));this.global.axios.post("/procurementOrders/applyPayment/".concat(this.primary.id),e).then(function(e){var i=e.data;t.loading=!1,t.confirmLoading=!1,t.paymentObjet.payableAmount=null,t.paymentObjet.prepayTime=null,t.paymentObjet.ratio=null,t.$refs.paymentFrom.resetFields(),t.$message.success("操作成功"),t.initData(),t.$emit("modifyCBEvent",i)}).catch(function(e){console.log(e),t.loading=!1,t.confirmLoading=!1})}}},s=l,c=(i("2e49"),i("2877")),p=Object(c["a"])(s,n,a,!1,null,"efe66cb6",null);e["default"]=p.exports},f597:function(t,e,i){"use strict";var n=i("83f2"),a=i.n(n);a.a},f7bc:function(t,e,i){},fdae:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block ph-form"},[i("el-timeline",t._l(t.logLine,function(e,n){return i("el-timeline-item",{key:n,attrs:{timestamp:e.timestamp,type:e.type,icon:e.icon,size:"large",placement:"top"}},[i("el-card",[i("h4",[t._v(t._s(e.content))]),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.br(e.note))}}),t._v(" "),i("hr"),t._v(" "),i("p",[t._v(t._s(e.userName)+" 提交于 "+t._s(e.timestamp))])])],1)}),1)],1)},a=[],r=(i("7f7f"),i("ac6a"),i("ed08")),o=i("d2d1"),l={components:{phMembers:o["a"]},props:{logs:{type:Array,default:function(){return[]}}},computed:{logLine:function(){var t=[];return this.logs&&this.logs.forEach(function(e){var i={};i.timestamp=Object(r["h"])(e.lastModified,"{y}-{m}-{d} {h}:{i}:{s}"),i.note=e.note,i.userName=e.creator.name,"createOrder"==e.type?(i.type="success",i.content="创建采购单",i.icon="el-icon-circle-plus"):"updateOrder"==e.type?(i.type="primary",i.content="更新采购单基本信息",i.icon="el-icon-edit"):"updateOrderDetail"==e.type?(i.type="primary",i.content="更新采购单信息",i.icon="el-icon-edit-outline"):"commitOrder"==e.type?(i.type="primary",i.content="采购单提交审核",i.icon="el-icon-s-check"):"agreeOrder"==e.type?(i.type="success",i.content="采购单审核通过",i.icon="el-icon-success"):"refuseOrder"==e.type?(i.type="danger",i.content="采购单审核拒绝",i.icon="el-icon-error"):"withdrawOrder"==e.type?(i.type="danger",i.content="采购单撤回",i.icon="el-icon-error"):"assignOrder"==e.type?(i.type="danger",i.content="采购单指派负责人",i.icon="el-icon-error"):"cancelAssignOrder"==e.type?(i.type="danger",i.content="采购单取消指派负责人",i.icon="el-icon-error"):"removeOrder"==e.type?(i.type="danger",i.content="删除采购单",i.icon="el-icon-error"):"handoverOrder"==e.type?(i.type="warning",i.content="交接采购单"):"shareOrder"==e.type?(i.type="warning",i.content="分享采购单"):"completeOrder"==e.type?(i.type="success",i.content="采购单结束",i.icon="el-icon-star-on"):"applyPaymentOrder"==e.type?(i.type="warning",i.content="采购单申请预付款",i.icon="el-icon-money"):"paymentedOrder"==e.type?(i.type="success",i.content="采购单预付款支付",i.icon="el-icon-money"):"refusePaymentOrder"==e.type&&(i.type="danger",i.content="采购单预付款被拒绝",i.icon="el-icon-money"),t.push(i)}),t}},data:function(){return{}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.initData()})},methods:{br:function(t){return Object(r["g"])(t)},initData:function(){}}},s=l,c=(i("f597"),i("2877")),p=Object(c["a"])(s,n,a,!1,null,"5fbb765c",null);e["default"]=p.exports}}]);