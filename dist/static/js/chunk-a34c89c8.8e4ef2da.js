(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a34c89c8","chunk-2ee5ddea","chunk-2d238a76"],{2056:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"todo-box-card"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("svg-icon",{attrs:{"icon-class":"skill"}}),t._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("未处理任务")])],1),t._v(" "),n("el-collapse",t._l(t.filteredTodos,function(e,i){return n("el-collapse-item",{key:e.id,attrs:{name:e.id}},[n("template",{slot:"title"},[n("div",{staticClass:"todo-title"},[n("i",{staticClass:"header-icon el-icon-info",staticStyle:{color:"#f25542","margin-right":"5px"}}),t._v("\n          "+t._s(e.notice.title)+"\n        ")])]),t._v(" "),n("div",{staticClass:"todo-centent"},[n("p",[t._v("\n          "+t._s(e.notice.content)+"\n        ")]),t._v(" "),n("p",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-success"},on:{click:function(n){return t.completeTodo(e)}}},[t._v("已完成")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(n){return t.goTodo(e)}}},[t._v("去处理")])],1)])],2)}),1),t._v(" "),n("footer",{staticClass:"footer"},[n("span",[n("strong",[t._v("还有"+t._s(t.remaining)+"个任务未处理")])])])],1)},a=[],o=(n("6b54"),"todos"),s={all:function(t){return t},active:function(t){return t.filter(function(t){return!t.done})},completed:function(t){return t.filter(function(t){return t.done})}},r={components:{},filters:{pluralize:function(t,e){return 1===t?e:e+"s"},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},data:function(){return{url:"/userNotices",visibility:"all",filters:s,todos:[]}},computed:{allChecked:function(){return this.todos.every(function(t){return t.done})},filteredTodos:function(){return console.log(s[this.visibility](this.todos)),s[this.visibility](this.todos)},remaining:function(){return this.todos.filter(function(t){return!t.done}).length}},mounted:function(){var t=this;this.$nextTick(function(){t.initData()})},methods:{initData:function(){var t=this,e=this.url,n=[];n.push({field:"isRead",op:"eq",data:"0"}),e+="?filters="+JSON.stringify({groupOp:"AND",rules:n});var i=["notice"];e+="&relations="+JSON.stringify(i),this.global.axios.get(e).then(function(e){var n=e.data||[];t.todos=n||[]}).catch(function(t){})},setLocalStorage:function(){window.localStorage.setItem(o,JSON.stringify(this.todos))},goTodo:function(t){this.$message.info("跳转对应的单据!")},completeTodo:function(t){var e=this;this.$confirm("确认该任务已经完成了吗?","提示",{type:"warning",beforeClose:function(n,i,a){if("confirm"==n){if(i.confirmButtonLoading=!0,t.done=!t.done,e.setLocalStorage(),e.onDelete)return void e.onDelete(e.hasSelect?e.single?e.selected[0]:e.selected:row).then(function(t){e.showMessage(!0),a(),e.getList()}).catch(function(t){}).finally(function(t){i.confirmButtonLoading=!1});if(e.hasSelect){var o=e.selected.map(function(t){return t[e.id]}).toString();o||""!=o||(o=row[e.id]),e.global.axios.delete(e.url+"/"+o).then(function(t){i.confirmButtonLoading=!1,a(),e.showMessage(!0),e.getList()}).catch(function(t){i.confirmButtonLoading=!1})}else e.global.axios.delete(e.url+"/"+row[e.id]).then(function(t){i.confirmButtonLoading=!1,a(),e.showMessage(!0),e.getList()}).catch(function(t){i.confirmButtonLoading=!1});e.afterConfirm()}else a()}}).catch(function(t){})}}},l=r,c=(n("457c"),n("2877")),u=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=u.exports},"29d9":function(t,e,n){"use strict";var i=n("7448"),a=n.n(i);a.a},3237:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{staticStyle:{background:"#fff",padding:"5px 5px 0"}},[n("el-form",{ref:"searchForm",attrs:{inline:!0,id:"filter-form"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-form-item",{attrs:{label:"销售渠道"}},[n("el-select",{attrs:{filterable:"",placeholder:"请销售渠道"},model:{value:t.mine.merchantId,callback:function(e){t.$set(t.mine,"merchantId",e)},expression:"mine.merchantId"}},t._l(t.merchantSelectOptions,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"分类"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择分类"},model:{value:t.mine.categoryId,callback:function(e){t.$set(t.mine,"categoryId",e)},expression:"mine.categoryId"}},t._l(t.categorySelectOptions,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"周数"}},[n("el-select",{attrs:{filterable:"",placeholder:"统计周数"},model:{value:t.mine.week,callback:function(e){t.$set(t.mine,"week",e)},expression:"mine.week"}},t._l(t.weekSelectOptions,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),t._v(" "),n("el-row",{attrs:{gutter:8}},[n("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:18},xl:{span:18}}},[n("panel-group",{attrs:{mine:t.mine},on:{handleSetLineChartData:t.handleSetLineChartData}}),t._v(" "),n("operate-group",{attrs:{mine:t.mine},on:{handleSetLineChartData:t.handleSetLineChartData}}),t._v(" "),n("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("svg-icon",{attrs:{"icon-class":"sales-statistics"}}),t._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("销售情况")])],1),t._v(" "),n("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[n("line-chart",{attrs:{"chart-data":t.lineChartData}})],1)],1)],1),t._v(" "),n("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:12},md:{span:12},lg:{span:6},xl:{span:6}}},[n("todo-list")],1)],1)],1)},a=[],o=n("be39"),s=n("b573"),r=n("ffff"),l=n("2056"),c=n("c405"),u={newVisitis:{expectedData:[100,120,161,134,105,160,165]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},d=[{label:"Rose Home Fashion",value:"8a23287966dc9acb0166dca2574c0000"}],f=[{label:"19周",value:"19"},{label:"20周",value:"20"},{label:"21周",value:"21"}],h={name:"DashboardAdmin",components:{PanelGroup:s["default"],OperateGroup:o["default"],LineChart:r["default"],TodoList:l["default"]},computed:{mine:function(){return this.$store.state.user.user}},data:function(){return{categorySelectOptions:[],lineChartData:u.newVisitis}},created:function(){this.categorySelectOptions=c["a"].getMineSelectProdcutOptions(),this.merchantSelectOptions=d,this.weekSelectOptions=f},methods:{initData:function(){},handleSetLineChartData:function(t){this.lineChartData=u[t]}}},p=h,m=(n("29d9"),n("2877")),g=Object(m["a"])(p,i,a,!1,null,"524e67a8",null);e["default"]=g.exports},"457c":function(t,e,n){"use strict";var i=n("7eaa"),a=n.n(i);a.a},7448:function(t,e,n){},"7eaa":function(t,e,n){},ffff:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})},a=[],o=n("313e"),s=n.n(o),r=n("ed08");n("817d");var l={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null,sidebarElm:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.initChart(),this.autoResize&&(this.__resizeHandler=Object(r["c"])(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)},methods:{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,n=t.actualData;this.chart.setOption({title:{text:"最近20周销售统计",subtext:"美国时间",x:"center",align:"right"},xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["销售量"],x:"left"},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:n,animationDuration:2800,animationEasing:"quadraticOut"}]})},initChart:function(){this.chart=s.a.init(this.$el,"macarons"),this.setOptions(this.chartData)}}},c=l,u=n("2877"),d=Object(u["a"])(c,i,a,!1,null,null,null);e["default"]=d.exports}}]);