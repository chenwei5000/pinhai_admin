(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62c6ec60"],{"0e8f":function(e,t,a){"use strict";a("ac6a"),a("96cf");var n=a("3b8d"),l=a("b1ef"),r={getDepartments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a="/departments";return e&&(a+="?tenantId="+e),l["a"].searchResource(a,null,null,t).then(function(e){return e})},getSelectOptions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=[],l=function(){var l=Object(n["a"])(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e.getDepartments(t).then(function(e){e&&e.forEach(function(e){a.push({label:e.allName,value:e.id+""})})});case 1:case"end":return n.stop()}},n)}));return function(){return l.apply(this,arguments)}}();return l(),a}};t["a"]=r},"6e6f":function(e,t,a){"use strict";a("7f7f"),a("ac6a"),a("96cf");var n=a("3b8d"),l=a("b1ef"),r={getPositions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a="/positions";return e&&(a+="?tenantId="+e),l["a"].searchResource(a,null,null,t).then(function(e){return e})},getSelectOptions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=[],l=function(){var l=Object(n["a"])(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e.getPositions(t).then(function(e){e&&e.forEach(function(e){a.push({label:e.name,value:e.id+""})})});case 1:case"end":return n.stop()}},n)}));return function(){return l.apply(this,arguments)}}();return l(),a}};t["a"]=r},7368:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"ph-card"},[a("ph-card-header",{attrs:{title:e.title,type:"table"}}),e._v(" "),a("div",{staticClass:"ph-card-body"},[a("ph-table",e._b({},"ph-table",e.tableConfig,!1))],1)],1)])},l=[],r=(a("7f7f"),a("ac6a"),a("a481"),a("a97c")),o=a("85f3"),i=a("7eee"),s=a("c971"),c=a("0e8f"),p=a("6e6f"),u=a("c24f"),d=a("b99d"),h={data:function(){return{title:"用户管理",tableConfig:{url:"/users",relations:["creator","department","position","parent"],tableAttrs:{"row-class-name":this.statusClassName},tplNoExportProps:["操作","修改时间","名称","ID","创建人","状态"],exportFileName:"用户列表",hasExportTpl:!0,hasExport:!0,hasImport:!0,columns:[{type:"selection"},r["a"].id,{prop:"account",label:"账号","min-width":200},{prop:"name",label:"姓名",sortable:"custom","min-width":100},{prop:"department.allName",label:"部门","min-width":100},{prop:"position.name",label:"职位","min-width":100},{prop:"parent.name",label:"上级领导","min-width":100},{prop:"phoneNo",label:"用户电话","min-width":150,formatter:function(e){return e.phoneNo?e.phoneNo.replace(/(\d{3})(\d{4})(\d{4})/,"$1****$3"):""}},{prop:"status",label:"状态",width:80,formatter:function(e){var t=s["a"].getSelectOptions("UserStatus"),a="";return t.forEach(function(t){t.value!==e.status+""||(a=t.label)}),a}},{prop:"hide",label:"隐藏",width:80,formatter:function(e){var t=s["a"].getSelectOptions("YesOrNo"),a="";return t.forEach(function(t){t.value!==e.hide+""||(a=t.label)}),a}},r["a"].lastModified],searchForm:[{$type:"input",$id:"account",label:"账号",$el:{op:"bw",placeholder:"请输入账号",clearable:!0,maxlength:"40","show-word-limit":!0}},i["a"].name,{$type:"select",$id:"status",label:"状态",$el:{op:"eq",placeholder:"请选择状态"},$options:s["a"].getSelectOptions("UserStatus")}],form:[{$type:"input",$id:"account",label:"账号",$el:{placeholder:"请输入用户账号",clearable:!0,maxlength:"40","show-word-limit":!0},rules:[d["a"].required]},{$type:"input",$id:"name",label:"姓名",$el:{placeholder:"请输入用户姓名",clearable:!0,maxlength:"20","show-word-limit":!0},rules:[d["a"].required]},{$type:"select",$id:"departmentId",label:"所在部门",$el:{placeholder:"请选择用户所在部门",filterable:!0},rules:[d["a"].required],$options:c["a"].getSelectOptions()},{$type:"select",$id:"positionId",label:"职位",$el:{placeholder:"请选择用户职位",filterable:!0},rules:[],$options:p["a"].getSelectOptions()},{$type:"select",$id:"parentId",label:"上级领导",$el:{placeholder:"请选择用户的上级领导",filterable:!0},rules:[],$options:u["a"].getSelectOptions()},{$type:"input",$id:"phoneNo",label:"联系方式",$el:{placeholder:"请输入用户手机号/电话"}},{$type:"input",$id:"password",label:"用户密码",$el:{placeholder:"请输入用户密码,不输入不修改"}},{$type:"input",$id:"config",label:"用户配置",$el:{placeholder:"请填写用户配置",type:"textarea"}},o["a"].status(),{$type:"radio-button",$id:"hide",label:"隐藏",$el:{},$default:"0",$options:s["a"].getSelectOptions("YesOrNo")}],afterConfirm:function(){}}}},computed:{},methods:{statusClassName:function(e){var t=e.row;return t.status&&0!==t.status?"":"warning-row"}},watch:{}},f=h,b=a("2877"),m=Object(b["a"])(f,n,l,!1,null,"7239331d",null);t["default"]=m.exports}}]);