(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ba56042"],{"0547":function(e,t,i){"use strict";var l=i("afc3"),a=i.n(l);a.a},afc3:function(e,t,i){},bc3f:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"editObject",attrs:{rules:e.rules,model:e.editObject,"status-icon":"",inline:"","label-position":"right","label-width":"120px"}},[i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"发货计划编码",prop:"code"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{"show-word-limit":"",placeholder:"请填写编码",clearable:""},model:{value:e.editObject.code,callback:function(t){e.$set(e.editObject,"code",t)},expression:"editObject.code"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"发货厂商",prop:"supplierId"}},[i("el-select",{staticStyle:{width:"220px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.editObject.supplierId,callback:function(t){e.$set(e.editObject,"supplierId",t)},expression:"editObject.supplierId"}},e._l(e.supplierSelectOptions,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"收货仓库",prop:"warehouseId"}},[i("el-select",{staticStyle:{width:"220px"},attrs:{filterable:"",placeholder:"请选择",change:e.warehouseChange()},model:{value:e.editObject.warehouseId,callback:function(t){e.$set(e.editObject,"warehouseId",t)},expression:"editObject.warehouseId"}},e._l(e.warehouseSelectOptions,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"预计发货时间",prop:"expectTime"}},[i("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"交货截止日"},model:{value:e.editObject.expectTime,callback:function(t){e.$set(e.editObject,"expectTime",t)},expression:"editObject.expectTime"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"单号",prop:"trackNumber"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{"show-word-limit":"",placeholder:"请填写单号",clearable:""},model:{value:e.editObject.trackNumber,callback:function(t){e.$set(e.editObject,"trackNumber",t)},expression:"editObject.trackNumber"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"公司",prop:"channel"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请填写公司",clearable:""},model:{value:e.editObject.channel,callback:function(t){e.$set(e.editObject,"channel",t)},expression:"editObject.channel"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{md:10}},[i("el-form-item",{attrs:{label:"车牌",prop:"plateNumber"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{"show-word-limit":"",placeholder:"请填写车牌",clearable:""},model:{value:e.editObject.plateNumber,callback:function(t){e.$set(e.editObject,"plateNumber",t)},expression:"editObject.plateNumber"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:14}},[i("el-form-item",{attrs:{label:"联系人",prop:"linkman"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请填写联系人",clearable:""},model:{value:e.editObject.linkman,callback:function(t){e.$set(e.editObject,"linkman",t)},expression:"editObject.linkman"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:18}},[i("el-form-item",{attrs:{label:"电话",prop:"tel"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请填写电话",clearable:""},model:{value:e.editObject.tel,callback:function(t){e.$set(e.editObject,"tel",t)},expression:"editObject.tel"}})],1)],1),e._v(" "),i("el-col",{attrs:{md:22}},[i("el-form-item",{attrs:{label:"运费",prop:"shippingPrice"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请填写编运费",clearable:""},model:{value:e.editObject.shippingPrice,callback:function(t){e.$set(e.editObject,"shippingPrice",t)},expression:"editObject.shippingPrice"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{md:24}},[i("el-form-item",{attrs:{label:"备注",prop:"note"}},[i("el-col",{attrs:{span:22}},[i("el-input",{attrs:{type:"textarea",maxlength:"500","show-word-limit":"",rows:"3",cols:"80","show-word-limit":""},model:{value:e.editObject.remark,callback:function(t){e.$set(e.editObject,"remark",t)},expression:"editObject.remark"}})],1),e._v(" "),i("el-col",{attrs:{span:2}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"备注信息。支持换行！",placement:"right"}},[i("i",{staticClass:"el-icon-question"},[e._v(" ")])])],1)],1)],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{md:24}},[i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.onSave}},[e._v("\n          保存基本信息\n        ")])],1)],1)],1)],1)},a=[],c=(i("ac6a"),i("c405")),r=i("64dc"),o=i("8492"),s=i("a6b9"),n=i("8593"),d=(i("ed08"),{components:{},props:{primary:{type:[Object],default:{}}},computed:{},data:function(){return{loading:!1,confirmLoading:!1,warehouseSelectOptions:[],supplierSelectOptions:[],editObject:{},rules:{code:[{required:!0,message:"必须输入",trigger:"blur"}],supplierId:[{required:!0,message:"必须输入",trigger:"blur"}],warehouseId:[{required:!0,message:"必须输入",trigger:"blur"}]}}},created:function(){},mounted:function(){var e=this;this.$nextTick(function(){e.initData()})},methods:{initData:function(){var e=this;if(this.loading=!0,this.primary){this.editObject=this.primary,this.editObject.limitTime=this.primary.formatLimitTime,this.editObject.executeTime=this.primary.formatExecuteTime,this.categorySelectOptions=c["a"].getMineSelectOptions(),this.merchantSelectOptions=o["a"].getSelectOptions(),this.warehouseSelectOptions=r["a"].getSelectDomesticOptions(),this.supplierSelectOptions=s["a"].getSelectOptions(),this.editObject.warehouseId=this.editObject.warehouseId+"",this.editObject.supplierId=this.editObject.supplierId+"",n["a"].getConfigInfos().then(function(t){null==e.editObject.safetyStockWeek&&(e.editObject.safetyStockWeek=t.safetyStockWeek),null==e.editObject.vip1SafetyStockWeek&&(e.editObject.vip1SafetyStockWeek=t.vip1SafetyStockWeek),null==e.editObject.vip2SafetyStockWeek&&(e.editObject.vip2SafetyStockWeek=t.vip2SafetyStockWeek)});var t=!0;this.warehouseSelectOptions.forEach(function(e){"-99"==e.value&&(t=!1)}),t&&this.warehouseSelectOptions.unshift({label:"供货商库存",value:"-99"}),this.loading=!1}else this.$message.error("无效的采购计划!"),this.loading=!1},onSave:function(){var e=this;this.$confirm("注意保存基本信息只会修改对应的参数，不会重新计算明细数据，您是否继续？","提示",{type:"warning",beforeClose:function(t,i,l){"confirm"==t?(l(),e.modifyObject()):l()}}).catch(function(e){})},modifyObject:function(){var e=this,t=JSON.parse(JSON.stringify(this.editObject));console.log("fdfdlfjd",t),this.loading=!0,this.confirmLoading=!0,this.global.axios.put("/procurementShippedOrders/".concat(this.editObject.id),t).then(function(t){var i=t.data;e.$message({type:"success",message:"操作成功"}),e.loading=!1,e.confirmLoading=!1,e.formVisible=!1,e.$emit("modifyCBEvent",i)}).catch(function(t){e.loading=!1,e.confirmLoading=!1})},warehouseChange:function(){}}}),p=d,u=(i("0547"),i("2877")),m=Object(u["a"])(p,l,a,!1,null,"691db99f",null);t["default"]=m.exports}}]);