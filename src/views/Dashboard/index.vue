<template>

  <div class="dashboard-container">

    <el-tabs v-model="activeStatus" type="border-card">

      <el-tab-pane name="adminDashboard" lazy v-if="false">
          <span slot="label" style="color: #67C23A;">
            <svg t="1571804519240" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24252" width="16" height="16"><path d="M196.176587 593.467154s99.764506 238.513235 309.898981 238.513235 317.871364-233.466497 317.871365-233.466497 72.190298-15.067073 84.404867-81.186658c12.214569-66.046443 8.850077-134.28712-42.202434-134.28712 0 0 4.388468-186.436748-84.404867-257.676212C692.878022 54.051297 631.585753 0 537.16055 0c-94.352062 0-191.264063 7.021549-254.531143 101.300469 0 0-83.380892 42.056152-106.786055 98.301683-23.405163 56.099249-28.963889 136.335072-13.384827 174.441603 0 0-18.870412 17.992719-29.987865 32.035816-11.117452 13.969956-35.546591 55.075273-14.408803 105.323232 21.064646 50.028535 49.370265 72.044016 78.11473 82.064351z m127.265572-393.206732c9.508347-8.776936 25.014268-7.826101 32.694086 2.340517 18.577848 24.941126 67.289842 71.897734 182.63341 104.299255 124.778773 34.961462 223.592444 40.227623 263.308079 40.593329 11.702581 0.219423 21.210929 7.679819 22.893175 18.06586 5.046738 31.304405 21.430352 105.542655-11.263735 172.027945-50.3211 102.397586-161.129916 255.993966-299.147234 255.993966-138.090459 0-252.483191-112.856768-281.593363-206.843124 0 0.219423-58.147201-98.082259-19.3824-186.802454 32.694086-74.823379 69.849782-162.958445 109.857982-199.675294z" fill="#444752" p-id="24253"></path><path d="M373.470694 575.986423h86.233396c34.376333 0 62.389387-28.890748 62.389386-63.998491 0-2.047952-0.365706-4.095903-0.585129-6.143855h48.273148c-0.219423 2.047952-0.65827 4.095903-0.65827 6.143855 0 35.254026 28.232477 63.998491 62.389386 63.998491h86.306538c34.376333 0 62.389387-28.890748 62.389386-63.998491a63.632786 63.632786 0 0 0-62.462528-63.998492H631.512611a61.072846 61.072846 0 0 0-40.812752 16.017908H500.297419a61.072846 61.072846 0 0 0-40.812753-16.017908H373.251271A63.413362 63.413362 0 0 0 310.861884 511.987932c0 35.107744 28.232477 63.998491 62.60881 63.998491z" fill="#444752" p-id="24254"></path><path d="M545.498639 872.573718c-0.877694-8.996359-6.363279-30.938699-12.214569-34.156909-5.266162-2.925645-6.43642-5.851291-19.236118-6.363279v-0.073141h-4.095904v0.073141c-12.799698 0.511988-14.043098 3.437633-19.236118 6.363279-5.851291 3.21821-11.263734 25.087409-12.214569 34.156909-0.877694 8.996359 19.967529 12.872839 15.944767 12.872839-4.022762 0-14.701368 7.972384-15.871626 10.532323-1.170258 2.55994 32.620945 62.316245 33.425498 63.998492v-0.073141 0.073141c0.731411-1.682246 34.595756-61.438552 33.425498-63.998492-1.170258-2.55994-11.848864-10.532323-15.871626-10.532323-4.022762 0 16.822461-3.87648 15.944767-12.872839z" fill="#1afa29" p-id="24255"></path><path d="M778.965136 927.941556c1.389682-13.604251-1.31654-17.919578-32.694087-51.198794-31.304405-33.352357-105.542655-45.20122-111.02824-44.762373-5.412444 0.438847-123.169668 181.39001-123.169668 181.39001s-117.830365-180.878022-123.242809-181.39001c-5.485585-0.365706-79.723835 11.410017-111.02824 44.762373-31.377546 33.279216-34.083768 37.667684-32.694087 51.198794 1.31654 13.604251-3.21821 74.89652-0.292564 79.723835 2.998786 4.827315 6.43642 13.165404 24.794844 15.359638s242.389715 0 242.389715 0 224.031291 2.194234 242.389715 0c18.358424-2.194234 21.796058-10.532323 24.721703-15.359638 2.998786-4.827315-1.462823-66.119584-0.146282-79.723835z m-80.894093 31.596969a182.560268 182.560268 0 0 1-13.457969 0.219424H609.716554a57.050084 57.050084 0 0 1-4.242186-0.219424c-0.731411-0.511988 0.292565-1.609105 1.316541-2.633081 1.023976-0.950835 37.082554-25.599397 44.981796-25.599396 7.899242 0 43.957821 24.648562 44.981797 25.599396 1.023976 1.023976 2.047952 2.194234 1.316541 2.633081z" fill="#1afa29" p-id="24256"></path></svg>
            管理员
          </span>
        <keep-alive>
          <component is="adminDashboard"/>
        </keep-alive>
      </el-tab-pane>

      <el-tab-pane name="purchasesDashboard" lazy>
          <span slot="label" style="color: #67C23A;">
            <i class="el-icon-shopping-cart-full"></i> 采购
          </span>
        <keep-alive>
          <component is="purchasesDashboard"/>
        </keep-alive>
      </el-tab-pane>

      <el-tab-pane name="documentaryDashboard" lazy>
          <span slot="label" style="color: #1296db;">
            <svg t="1571804357599" class="icon" viewBox="0 0 1134 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21082" width="16" height="16"><path d="M1134.237447 0L374.755353 714.919402 0 519.031941 1134.237447 0zM1134.237447 0L910.335903 950.04282 447.705649 747.82174 1134.237447 0zM614.296064 840.487455l-114.622261 183.512545-51.968154-258.996289 166.590415 75.483744z" fill="#2196F3" p-id="21083"></path></svg>
            跟单
          </span>
        <keep-alive>
          <component is="documentaryDashboard"/>
        </keep-alive>
      </el-tab-pane>

      <el-tab-pane name="stockManagerDashboard" lazy>
          <span slot="label" style="color: #67C23A;">
            <i class="el-icon-shopping-cart-full"></i> 库管
          </span>
        <keep-alive>
          <component is="stockManagerDashboard"/>
        </keep-alive>
      </el-tab-pane>

      <el-tab-pane name="financeDashboard" lazy>
          <span slot="label" style="color: #67C23A;">
            <i class="el-icon-shopping-cart-full"></i> 财务
          </span>
        <keep-alive>
          <component is="financeDashboard"/>
        </keep-alive>
      </el-tab-pane>

      <el-tab-pane name="salesDashboard" lazy>
          <span slot="label" style="color: #F56C6C;">
            <svg t="1571804619988" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="27323" width="16" height="16"><path d="M151.04 883.712c7.168-108.032 59.392-208.896 143.36-275.968l5.12-3.584c4.608-3.072 10.24-4.608 15.872-4.608 19.456 0 30.72 9.216 30.72 25.6 0 9.216-4.096 17.92-11.264 24.064l-4.608 3.072c-70.656 51.712-110.08 129.536-117.76 232.448v4.096c0 17.408-13.824 31.232-30.72 31.232-16.384 0-29.696-13.312-30.72-29.696h-0.512l0.512-6.656zM249.856 357.888c0-156.16 125.44-283.136 280.064-283.136 154.624 0 280.064 126.976 280.064 283.136 0 83.968-36.352 162.816-99.84 216.576 114.176 62.464 190.464 181.76 198.656 313.344l0.512 5.632v2.048c0 14.848-11.776 26.624-26.112 26.624s-26.112-11.776-26.112-26.624v-1.024h-0.512l-0.512-5.12c-9.216-124.928-87.04-234.496-197.632-279.552-33.28 15.872-83.456 32.256-128.512 32.256-41.984 0-82.944-9.216-121.344-28.16l-28.16-16.896-23.04-15.872c-68.608-54.784-107.52-136.192-107.52-223.232z m280.064 226.304c123.392 0 223.744-101.376 223.744-226.304s-100.352-226.304-223.744-226.304-223.744 101.376-223.744 226.304c0 124.928 100.352 226.304 223.744 226.304z" fill="#FF6F00" p-id="27324"></path><path d="M526.848 956.416l-102.912-98.304 31.744-196.096h139.776l24.576 195.584-93.184 98.816z m-51.2-115.712l49.664 47.616 44.544-47.104-16.384-131.584H496.64l-20.992 131.072zM410.624 238.08c-17.408 0-31.232 13.824-31.232 31.232v30.72c0 17.408 13.824 31.232 31.232 31.232 17.408 0 31.232-13.824 31.232-31.232v-30.72c0-17.408-14.336-31.232-31.232-31.232zM633.344 238.08c-17.408 0-31.232 13.824-31.232 31.232v30.72c0 17.408 13.824 31.232 31.232 31.232 17.408 0 31.232-13.824 31.232-31.232v-30.72c0-17.408-13.824-31.232-31.232-31.232zM435.712 400.896c11.264 17.92 41.984 48.64 86.016 48.64 44.032 0 75.264-30.208 86.528-48.128 9.216-14.336 5.12-33.792-9.216-43.008-14.336-9.216-33.792-5.12-43.008 9.216 0 0-13.312 19.456-33.792 19.456-19.968 0-32.256-17.92-33.28-19.456-9.216-14.336-28.16-18.944-43.008-9.728-14.848 9.216-19.456 28.672-10.24 43.008z" fill="#FF6F00" p-id="27325"></path></svg>
            销售
          </span>
        <keep-alive>
          <component is="salesDashboard"/>
        </keep-alive>
      </el-tab-pane>

    </el-tabs>

  </div>

</template>

<script>
  import {mapGetters} from 'vuex'
  import adminDashboard from './admin'
  import salesDashboard from './sales'
  import purchasesDashboard from './purchases'
  import documentaryDashboard from './documentary'
  import stockManagerDashboard from './stockManager'
  import financeDashboard from './finance'


  export default {
    name: 'Dashboard',
    components: {
      adminDashboard,
      salesDashboard,
      purchasesDashboard,
      documentaryDashboard,
      stockManagerDashboard,
      financeDashboard
    },

    data() {
      return {
        activeStatus: 'stockManagerDashboard'
      }
    },
    computed: {
      ...mapGetters([
        'roles'
      ])
    },
    created() {
      if (!this.roles.includes('admin')) {
        this.currentRole = 'adminDashboard'
      }
    }
  }
</script>
