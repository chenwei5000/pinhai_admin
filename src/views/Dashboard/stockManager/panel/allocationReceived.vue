<template>

  <div class="card-panel">
    <router-link to="/m3/AllocationReceived_index">
      <div class="card-header">
        <svg t="1571908972731" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17203" width="42" height="42"><path d="M989.379 376.758l-147.314-232.615c-12.876-20.259-39.763-26.227-60.023-13.539l-735.247 465.612c-20.259 12.873-26.226 39.763-13.537 60.020l147.314 232.526c12.874 20.259 39.763 26.226 60.023 13.539l735.248-465.613c20.256-12.874 26.41-39.667 13.536-59.927zM960.032 411.786l-735.247 465.518c-6.532 4.074-15.054 2.179-19.125-4.354l-147.219-232.523c-4.074-6.532-2.178-15.054 4.354-19.129l735.247-465.612c6.531-4.071 15.052-2.178 19.126 4.354l147.313 232.523c3.879 6.441 1.986 14.961-4.45 19.22zM319.271 237.206l-3.41-31.621 27.171 16.473 28.97-12.97-7.289 30.863 21.301 23.573-31.621 2.556-15.809 27.55-12.214-29.349-31.054-6.532 23.954-20.542zM485.425 178.034l12.874-29.066 15.149 27.927 31.621 3.314-21.775 23.102 6.626 31.054-28.687-13.634-27.55 15.906 4.071-31.434-23.573-21.113 31.243-6.058zM818.398 664.571l18.558 25.751-31.715-0.852-18.746 25.655-8.899-30.487-30.203-9.938 26.227-17.801 0.097-31.715 25.088 19.409 30.203-9.657-10.609 29.635zM703.179 798.062l3.219 31.621-26.979-16.85-29.067 12.781 7.479-30.861-21.111-23.67 31.621-2.272 16.096-27.362 12.022 29.443 30.958 6.724-24.242 20.444zM536.551 855.813l-13.159 28.97-15.055-28.021-31.62-3.598 22.060-22.911-6.343-31.056 28.497 13.919 27.646-15.717-4.355 31.433 23.479 21.396-31.146 5.588zM207.46 366.629l-18.368-25.845 31.716 1.137 19.028-25.468 8.709 30.58 30.106 10.226-26.414 17.702-0.38 31.715-24.993-19.598-30.295 9.469 10.89-29.917z" p-id="17204" fill="#13227a"></path><path d="M298.727 179.93c121.563-76.971 269.35-79.149 389.397-18.839l29.066-18.366c-35.503-19.883-73.749-34.368-114.084-43.455-53.776-12.118-108.592-13.633-162.746-4.733-56.047 9.279-109.067 29.539-157.54 60.309-48.474 30.77-89.468 69.964-121.846 116.734-31.338 45.067-53.396 95.337-65.516 149.113-9.090 40.237-12.214 81.040-9.469 121.658l29.066-18.368c-3.121-134.252 62.11-267.079 183.671-344.050zM721.355 847.579c-121.563 76.97-269.35 79.149-389.397 18.839l-29.066 18.368c35.501 19.881 73.751 34.368 114.084 43.457 53.774 12.117 108.592 13.634 162.746 4.732 56.047-9.279 109.067-29.536 157.54-60.306 48.378-30.675 89.468-69.967 121.846-116.734 31.244-45.067 53.303-95.339 65.325-149.114 9.090-40.237 12.215-81.045 9.469-121.659l-29.066 18.366c3.314 134.251-61.919 267.079-183.482 344.050z" p-id="17205" fill="#13227a"></path><path d="M386.395 318.437c33.989-21.491 71.481-33.042 109.067-35.315l44.875-28.402c-59.266-7.007-118.626 6.343-169.847 38.722-51.125 32.379-88.522 80.378-107.551 136.994l44.876-28.402c18.176-33.136 44.59-62.013 78.578-83.598zM633.686 709.067c-33.989 21.491-71.478 33.042-109.066 35.315l-44.878 28.403c59.268 7.008 118.628-6.343 169.849-38.723 51.125-32.379 88.522-80.377 107.551-136.994l-44.876 28.403c-18.175 32.948-44.497 62.013-78.578 83.597z" p-id="17206" fill="#13227a"></path><path d="M223.617 633.934c8.57 20.002 13.877 40.014 15.924 60.036 6.258 3.412 11.62 8.623 16.075 15.646l50.081 78.977-31.591 20.033-45.631-71.956c-11.978 10.885-23.286 9.845-33.946-3.084-6.937-16.094-2.311-28.871 13.846-38.313-5.61-15.302-11.194-27.355-16.758-36.129-4.324 12.586-9.387 24.005-15.199 34.245l-6.847-3.040c3.187-29.897-0.15-56.501-9.996-79.788l35.978-22.816c3.945 20.469 3.059 42.356-2.656 65.663l30.716-19.477zM196.454 724.981c2.697 8.13 6.055 12.155 10.102 12.048 6.954-1.948 8.966-9.78 6.013-23.5-4.144-3.929-8.551-4.422-13.228-1.456-3.726 3.189-4.687 7.492-2.89 12.908zM247.329 554.916l31.591-20.033 12.798 20.182 35.979-22.816 7.789 12.287-35.979 22.816 22.259 35.101 46.509-29.493 7.234 11.406-14.917 9.46 15.025 23.694 14.917-9.46 7.789 12.286-14.917 9.46 35.058 55.283c6.925 16.1 2.793 28.987-12.414 38.629-11.493 6.462-25.257 7.405-41.286 2.804l2.162-6.295c17.902-1.508 24.079-6.657 18.513-15.431l-34.501-54.407-85.996 54.533-7.789-12.286 85.996-54.533-15.023-23.694-85.121 53.979-7.234-11.406 54.407-34.501-22.259-35.101-46.509 29.493-7.789-12.287 46.509-29.493-12.8-20.18zM311.689 677.747c16.941 7.308 29.202 13.068 36.791 17.269 7.747 5.758 9.885 13.014 6.421 21.77-4.486 11.054-9.753 18.909-15.818 23.563l-6.293-2.161c3.788-5.673 3.381-9.525-1.178-11.557-11.194-6.013-23.951-11.881-38.226-17.593l18.3-31.29zM642.341 576.339c-37.405-36.973-83.17-69.068-137.321-96.25 11.717 50.822 15.461 96.834 11.258 138.049-2.911 26.453-8.944 42.161-18.085 47.15-14.629 9.279-31.588-1.308-50.876-31.716-24.902-45.728-38.45-91.678-40.665-137.857 0.041-27.094 5.615-44.167 16.737-51.219 9.349-5.93 26.58-6.591 51.644-1.987 54.703 11.261 114.143 38.353 178.308 81.33l-10.998 52.5zM491.149 632.843c-0.891-45.363-11.506-102.21-31.844-170.514-17.747-5.972-29.237-7.298-34.501-3.958-6.81 3.513-11.024 15.6-12.65 36.32 2.215 46.175 15.58 91.839 40.107 136.976 12.617 19.897 23.188 27.533 31.763 22.922 3.875-1.65 6.246-8.882 7.124-21.746zM790.686 253.413l-150.057 95.156 35.058 55.283c30.9 43.578 40.686 86.165 29.364 127.796l-8.369 0.383c-3.533-22.367-18.449-54.318-44.797-95.862l-50.64-79.856 74.587-47.299c-3.979-2.396-10.272-4.558-18.875-6.484l31.527-29.837c5.735 1.284 11.663 2.869 17.764 4.731 3.981 2.396 6.13 5.15 6.442 8.217l70.199-44.517 7.793 12.289zM803.955 278.223l7.792 12.286-81.611 51.75c-2.162 18.598-6.018 40.324-11.578 65.172l36.859-23.372-18.922-29.834 32.466-20.588 18.922 29.834 46.509-29.493 7.788 12.286-46.509 29.493 16.695 26.326 55.283-35.058 7.789 12.286-55.282 35.058 20.033 31.59-32.466 20.588-20.033-31.59-66.693 42.292-7.792-12.286 66.693-42.292-16.695-26.326-53.527 33.945-8.902-14.041c0.515-22.473-0.238-40.451-2.224-53.957l-28.079 17.806-7.789-12.286 34.221-21.702c-0.365-0.577-0.822-1.938-1.347-4.065-1.061-4.25-2.086-9.749-3.082-16.501l39.488-25.042c0.039 1.488 0.062 3.239 0.062 4.995 0 6.659-0.326 13.242-0.963 19.732l72.897-47.007z" p-id="17207" fill="#13227a"></path></svg>
      </div>
        待调拨入库
      <div class="card-body">
        <count-to :start-val="0" :end-val="number" :duration="2600" class="card-panel-num"/>
      </div>

    </router-link>
  </div>

</template>

<script>
  import CountTo from 'vue-count-to'
  export default {
    data(){
      return {
        number: 0,
        relations: ["fromWarehouse","toWarehouse"] ,
        filters:[
          {"field":"status","op":"in","data":4}
        ],
      }
    },

    props: {
      mine: {
        type: Object,
      }
    },
    components: {
      CountTo
    },

    mounted(){
      this.$nextTick(() => {
        this.initData();
      })
    },

    methods: {
      initData(){
        let countUrl = "allocationReceiveds/count";
        countUrl += "?relations=" + JSON.stringify(this.relations);
        countUrl += "&filters=" + JSON.stringify({"groupOp": "AND", "rules": this.filters});
        this.global.axios
          .get(countUrl)
          .then(resp => {
            this.number = resp.data;
          })
          .catch(err => {
          })
      }
    }
  }
</script>

<style lang="scss" scoped>
  @import "@/assets/css/panel.less";
</style>
