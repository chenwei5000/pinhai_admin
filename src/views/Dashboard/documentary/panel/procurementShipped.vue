<template>

  <div class="card-panel">
    <router-link to="/m2/ProcurementShippedOrder_index?s=executing">

      <div class="card-header">
        <svg t="1571804047324" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17889" width="40" height="40"><path d="M445.073097 22.722064a484.031959 484.031959 0 0 1 193.42899 14.02078A484.950924 484.950924 0 0 1 805.727449 120.788751a485.423534 485.423534 0 0 1 123.456375 140.759172 482.876688 482.876688 0 0 1 62.174542 183.792986c8.401965 64.747644 3.67586 130.624301-14.047036 193.507759a484.110727 484.110727 0 0 1-84.098419 167.17285 485.082204 485.082204 0 0 1-140.732916 123.482631 482.850432 482.850432 0 0 1-183.792987 62.148285 483.900678 483.900678 0 0 1-193.402734-13.994523 486.211218 486.211218 0 0 1-167.199106-84.150932 485.922401 485.922401 0 0 1-123.456374-140.785427A482.692895 482.692895 0 0 1 22.427996 568.981077a486.762597 486.762597 0 0 1 14.125803-193.29771A484.373288 484.373288 0 0 1 120.704731 208.484262a485.213485 485.213485 0 0 1 140.70666-123.456375A479.069548 479.069548 0 0 1 445.073097 22.722064z m-2.258028-18.536835C164.998841 39.709788-31.370837 293.869232 4.153722 571.527923c35.550815 277.632435 289.710259 474.054625 567.36895 438.50381 277.658691-35.524559 474.212162-289.578979 438.661347-567.211413C974.501923 164.872812 720.60504-31.365586 442.815069 4.158973v0.026256z" fill="#d81e06" p-id="17890"></path><path d="M155.179044 382.825038l543.08202-196.448447 5.802607 16.147527-543.055763 196.448446zM313.73988 819.989785l542.845714-197.603717 5.881376 16.147527-542.845715 197.57746zM315.892883 661.376437c-19.32452-14.020779-30.824709-20.506046-51.304499-28.671706l8.401965-12.99679c20.322253 8.50699 31.664906 14.519646 52.065927 27.01757l-9.163393 14.650926z m-73.674731-137.687203a161.947877 161.947877 0 0 0-21.97639 9.137137l-5.592558-15.911221c6.32773-1.15527 12.99679-2.9932 23.105404-6.564036l32.032492-11.342653-3.413299-9.609747a133.880063 133.880063 0 0 0-8.375709-18.98319l17.801664-6.301474c1.260295 6.564035 2.966944 12.209106 5.697582 19.902155l3.413299 9.609748 35.839632-12.681717c10.082358-3.570835 16.436344-6.353986 22.343976-9.530979l5.618814 15.884966c-7.299207 1.4966-13.653193 3.492067-23.026635 6.80034l-36.075938 12.786741 11.237628 31.743674 45.003026-15.937477c10.082358-3.570835 17.617871-6.774084 23.761808-10.029846l5.723838 16.095014a180.852299 180.852299 0 0 0-24.575748 7.089158l-9.872309 3.518323 10.056102 28.356632 4.594825-1.62788c10.318663-3.67586 17.355309-6.66906 23.525502-9.977334l5.802607 16.383832a173.815653 173.815653 0 0 0-24.575747 7.062902l-4.568569 1.627881 24.15565 68.108429c2.940688 8.401965 2.258028 14.860976-2.336797 18.64186-3.859653 2.9932-10.738762 6.511523-20.348509 9.924822a291.443165 291.443165 0 0 1-22.711562 6.984133 61.91198 61.91198 0 0 0-9.636004-15.018512 218.451093 218.451093 0 0 0 27.96279-6.642804c11.316397-3.990933 12.734228-5.356253 10.948811-10.397432l-23.420478-66.165475-68.791089 24.391955a171.505113 171.505113 0 0 0-23.315453 9.898565l-5.776351-16.357576c6.826597-1.339063 13.731962-3.255761 23.81432-6.826597l69.316212-24.549491-10.108614-28.382889-75.538918 26.755008c-9.609748 3.413298-16.410088 6.353986-22.554025 9.609748l-5.723839-16.095015c6.590291-1.260295 13.521913-3.176993 23.630527-6.747828l40.434457-14.335853-11.29014-31.717418-32.216285 11.421421zM205.932165 639.084973a383.077097 383.077097 0 0 1-9.058369-27.884021c-3.649604 12.65546-7.246695 20.112204-14.913488 32.898944-6.380242-5.881376-6.879109-6.564035-13.653193-10.344919 17.854176-26.098604 31.533625-62.332079 31.349832-85.069897l17.171516 3.413298c-0.997733 3.360786-1.522856 4.883642-3.229505 12.287874-1.785418 8.743295-1.785418 8.743295-7.509256 27.017569l35.10446 99.090676c4.542312 12.786741 8.008123 21.792597 11.185116 27.726485l-17.801663 6.301474a279.811694 279.811694 0 0 0-8.533246-28.671706l-20.112204-56.765777z m-8.139404-138.422375c-0.997733 2.52059-0.997733 2.52059-5.382509 14.624671a232.786946 232.786946 0 0 1-31.612394 58.288633 52.381001 52.381001 0 0 0-13.915754-8.84832c18.799397-23.184172 31.586138-48.311299 34.185495-68.449759l16.725162 4.384775zM568.923314 410.892852a143.804884 143.804884 0 0 0-47.681152-20.742351l7.588024-12.970534c18.799397 4.988667 28.015302 8.769551 47.891201 19.035703l-7.798073 14.677182z m-71.758034 93.970729c16.200039 16.698906 35.393278 28.829243 60.047795 37.992636 10.34492-19.692106 15.674916-39.673029 17.854176-65.640353l-77.901971 27.647717z m96.832648-39.988103c-0.840197 2.966944-1.312807 5.592558-2.389309 15.438611a224.59503 224.59503 0 0 1-18.825653 67.557051c28.330376 8.113148 54.271443 10.292407 89.008318 7.483a52.512282 52.512282 0 0 0-4.752361 18.746885c-34.185496 0.472611-63.986216-3.33453-91.975262-12.104081-13.233095 21.477523-29.958257 38.544015-67.241977 68.502271a45.160562 45.160562 0 0 0-14.83472-11.237628c19.377032-13.390632 37.28372-28.409145 49.676619-41.694752 6.091425-6.511523 10.581225-12.156593 16.541369-21.346242a184.081804 184.081804 0 0 1-58.236121-36.758598 218.818679 218.818679 0 0 1-6.66906 50.017949c-5.881376 25.389688-14.178316 45.606917-28.356632 69.053651a47.261054 47.261054 0 0 0-16.620137-9.504724c11.342653-15.386099 16.278807-24.470723 23.105404-42.561204 13.12807-34.736874 15.64866-70.523995 8.218172-118.257659l-35.839632 12.681716c-12.734228 5.30374-20.532302 8.612014-23.157917 9.557235 1.706649-29.590671 1.023989-44.504159-3.570835-69.657541l17.460334-3.492067c1.102758 16.121271 1.654137 31.402345 1.312807 50.41179l41.169629-14.545902a467.674383 467.674383 0 0 0-11.395165-44.42539c-0.787684-2.17926-1.391575-3.859653-3.071969-7.089158l19.061959-5.067435c0.34133 4.726105 0.34133 4.726105 2.546845 14.782207 3.413298 14.230828 5.224972 21.713829 8.244428 36.338499l95.020975-33.660373c10.81753-3.833397 18.379299-7.036646 24.785797-10.371175l6.091424 17.302797c-5.881376 0.971477-13.259351 3.045712-25.731018 7.483l-97.541563 34.29052c2.074235 11.15886 2.809407 17.14526 3.859652 29.196829l70.944093-25.127127c10.607481-3.754628 16.278807-6.038912 20.978657-8.795808l12.182849 6.826597zM798.270705 472.62104c27.673973-0.603891 40.329433-0.787684 48.573861-0.446355 24.62826 0.787684 24.62826 0.787684 36.837365 0.787685 9.846053 0.288818 9.846053 0.288818 16.935211 0.446354l-2.888175 17.066492c-37.204952-3.360786-59.653952-4.069702-101.847571-3.20325l2.389309-14.650926z m-39.042882-111.010964c2.31054 6.564035 7.535512 6.038912 34.736875-3.597092 27.385155-9.714772 34.999436-13.521913 36.758597-18.458067 1.129014-3.67586-0.157537-11.894032-4.095958-24.549491 6.222705 0.787684 10.029846 0.787684 16.042502-0.525123 3.702116 15.753685 4.279751 19.613337 3.885909 25.468456-1.15527 11.999056-8.822063 17.14526-47.523615 30.850966-21.16245 7.509256-34.264264 11.053835-40.329433 10.765018-7.194183-0.420098-10.082358-3.150737-13.653193-13.285607l-5.618814-15.911222-7.404232 4.279751c-11.185116 6.642804-11.920288 6.905365-19.823386 11.368909a58.183608 58.183608 0 0 0-12.130337-10.607481c15.64866-7.719305 20.47979-10.239895 34.658106-18.248018l-4.909899-13.968267a100.823581 100.823581 0 0 0-7.771817-17.27654l17.329053-6.143937c1.260295 6.616548 2.205516 10.056102 4.909898 17.749151l4.122214 11.552702c33.81791-21.451267 52.11844-35.524559 61.491882-47.234798l16.278808 7.745562-7.299207 6.117681c-16.541369 13.705706-39.305443 29.669439-65.902914 46.368345l6.248961 17.539102z m12.392899 64.117496c0.918965 4.804874 1.312807 6.038912 5.198716 17.644127 7.089158 22.422744 8.139404 32.872688 4.883642 45.948246-3.308274 12.812997-11.736495 24.181906-26.728752 36.81111-9.66226 7.981867-18.799397 14.230828-34.474313 22.737818-1.102758 0.68266-7.981867 4.200983-20.453533 10.266151a67.924637 67.924637 0 0 0-12.602948-12.602947c15.806197-5.881376 25.337176-10.34492 36.758597-17.066492 28.64545-16.935211 41.957313-32.767664 42.928791-51.462036 0.551379-8.375709-1.627881-18.379299-7.089158-33.81791-1.785418-5.041179-2.783151-7.14167-5.251229-12.497923l16.830187-5.960144zM707.870812 513.843181a174.472057 174.472057 0 0 0-7.798074-27.28013l-11.342653-32.006236c-5.461277-15.412355-6.642804-18.773141-9.714772-25.258408 6.984133-1.654137 15.228562-4.306007 27.043825-8.480733l97.672844-34.605594c11.552702-4.095958 20.322253-7.483 26.80752-10.607481 1.129014 5.566302 3.728372 13.600681 7.483 24.208162l12.025313 33.896678c4.594825 12.99679 7.299207 19.875899 10.554969 26.019836l-18.51058 6.564035a181.587471 181.587471 0 0 0-7.771818-27.280131l-15.228561-43.060071-119.097856 42.193619 15.228562 43.060071c3.176993 8.927088 8.139404 20.637327 10.922555 26.151116l-18.274274 6.485267z m-15.281074-117.259925c2.625614 7.483 4.14847 11.027579 6.590291 14.755951l-17.066492 6.038912c-0.34133-3.912165-1.470344-7.850586-3.780884-14.362109l-5.9864-16.856442a144.828874 144.828874 0 0 1-4.122214-14.782208 259.935796 259.935796 0 0 1-26.072348 34.97318 43.716475 43.716475 0 0 0-13.311864-8.559502c23.367965-24.208162 42.377412-55.347945 45.160563-75.013795l16.908955 1.864186c-0.68266 1.890442-0.997733 2.52059-1.83793 4.726106a182.637717 182.637717 0 0 1-11.237629 25.625993l14.755952 41.589728z" fill="#d81e06" p-id="17891"></path></svg>        </div>
      待发货

      <div class="card-body">
        <count-to :start-val="0" :end-val="number" :duration="2600" class="card-panel-num"/>
      </div>

    </router-link>
  </div>

</template>

<script>
  import CountTo from 'vue-count-to'
  export default {
    data(){
      return {
        number: 0,
        relations: ["creator","supplier","warehouse"] ,
        filters:[
          {"field": "status", "op": "in", "data": "1,3"}
        ],
      }
    },

    props: {
      mine: {
        type: Object,
      }
    },
    components: {
      CountTo
    },

    mounted(){
      this.$nextTick(() => {
        this.initData();
      })
    },

    methods: {
      initData(){
        let countUrl = "procurementShippedOrders/count";
        countUrl += "?relations=" + JSON.stringify(this.relations);
        countUrl += "&filters=" + JSON.stringify({"groupOp": "AND", "rules": this.filters});
        this.global.axios
          .get(countUrl)
          .then(resp => {
            this.number = resp.data;
          })
          .catch(err => {
          })
      }
    }
  }
</script>

<style lang="scss" scoped>
  @import "@/assets/css/panel.less";
</style>
